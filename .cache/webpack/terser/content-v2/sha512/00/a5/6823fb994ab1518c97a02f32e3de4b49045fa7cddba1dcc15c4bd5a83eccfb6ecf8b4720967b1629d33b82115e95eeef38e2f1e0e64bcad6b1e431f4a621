{"map":{"version":3,"sources":["8673774c-413ed6f24960d0805faa.js"],"names":["window","push","NSPt","module","exports","__webpack_require__","process","Object","defineProperty","value","firebase","tslib","util","logger$1","component","_interopDefaultLegacy","e","default","id","firebase__default","DOMStorageWrapper","domStorage_","this","prefix_","prototype","set","key","removeItem","prefixedName_","setItem","stringify","get","storedVal","getItem","jsonEval","remove","name","toString","MemoryStorage","cache_","isInMemoryStorage","contains","createStoragefor","domStorageName","domStorage","PersistentStorage","SessionStorage","logClient","Logger","LUIDGenerator","sha1","str","utf8Bytes","stringToByteArray","Sha1","update","sha1Bytes","digest","base64","encodeByteArray","buildLogMessage_","varArgs","_i","arguments","length","message","i","arg","Array","isArray","apply","logger","firstLog_","enableLogging","logger_","persistent","assert","logLevel","LogLevel","VERBOSE","log","bind","logWrapper","prefix","__spread","error","fatal","Error","warn","isInvalidJSONNumber","data","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","MIN_NAME","MAX_NAME","nameCompare","a","b","aAsInt","tryParseInt","bAsInt","stringCompare","requireKey","obj","ObjectToUniqueKey","keys","k","sort","splitStringBySize","segsize","len","dataSegs","c","substring","each","fn","hasOwnProperty","doubleToIEEE754String","v","s","f","ln","Infinity","Math","abs","pow","min","floor","LN2","round","bits","reverse","join","hexByteString","hexByte","parseInt","substr","toLowerCase","INTEGER_REGEXP_","RegExp","test","intVal","exceptionGuard","setTimeout","stack","setTimeoutNonBlocking","time","timeout","Path","pathOrString","pieceNum","pieces_","split","copyTo","pieceNum_","enumerable","configurable","getFront","getLength","popFront","getBack","pathString","toUrlEncodedString","encodeURIComponent","String","slice","begin","parent","pieces","child","childPathObj","childPieces","isEmpty","relativePath","outerPath","innerPath","outer","inner","comparePaths","left","right","leftKeys","rightKeys","cmp","equals","other","j","ValidationPath","path","errorPrefix_","parts_","byteLength_","max","stringLength","checkValid_","pop","last","MAX_PATH_LENGTH_BYTES","MAX_PATH_DEPTH","toErrorString","RepoInfo","host","secure","namespace","webSocketOnly","nodeAdmin","persistenceKey","includeNamespaceInQueryParams","domain","indexOf","internalHost","needsQueryParam","isCustomHost","isCacheableHost","isDemoHost","updateHost","newHost","connectionURL","type","params","connURL","pairs","toURLString","PUSH_CHARS","lastPushTime","lastRandChars","__EMPTY_NODE","MAX_NODE","parseRepoInfo","dataURL","parsedUrl","parseDatabaseURL","location","protocol","scheme","repoInfo","subdomain","port","colonInd","slashInd","questionMarkInd","pathStringDecoded","piece","decodeURIComponent","replace","decodePath","queryParams","queryString","e_1","_a","results","charAt","_b","__values","_c","next","done","segment","kv","e_1_1","return","call","decodeQuery","hostWithoutPort","dotInd","INVALID_KEY_REGEX_","INVALID_PATH_REGEX_","isValidKey","isValidPathString","isValidPriority","priority","validateFirebaseDataArg","fnName","argumentNumber","optional","undefined","validateFirebaseData","errorPrefix","path_","hasDotValue_1","hasActualChild_1","validateFirebaseMergeDataArg","mergePaths","curPath","prevPath","validateFirebaseMergePaths","validatePriority","validateEventType","eventType","validateKey","validatePathString","validateRootPathString","validateWritablePath","validateUrl","isValidRootPathString","validateBoolean","bool","OnDisconnect","repo_","cancel","onComplete","validateArgCount","validateCallback","deferred","Deferred","onDisconnectCancel","wrapCallback","promise","onDisconnectSet","setWithPriority","onDisconnectSetWithPriority","objectToMerge","newObjectToMerge","onDisconnectUpdate","TransactionResult","committed","snapshot","toJSON","nextPushId","now","duplicateTime","timeStampChars","random","NamedNode","node","Wrap","Index","getCompare","compare","indexedValueChanged","oldNode","newNode","oldWrapped","newWrapped","minPost","MIN","KeyIndex","_super","__extends","val","isDefinedOn","assertionError","maxPost","makePost","indexValue","KEY_INDEX","__childrenNodeConstructor","nodeFromJSON","MAX_NODE$1","priorityHashText","validatePriorityNode","priorityNode","isLeafNode","getPriority","LeafNode","value_","priorityNode_","EMPTY_NODE","lazyHash_","updatePriority","newPriorityNode","getImmediateChild","childName","getChild","hasChild","getPredecessorChildName","childNode","updateImmediateChild","newChildNode","updateChild","front","numChildren","forEachChild","index","action","exportFormat",".value","getValue",".priority","hash","toHash","compareTo","compareToLeafNode_","otherLeaf","otherLeafType","thisLeafType","otherIndex","VALUE_TYPE_ORDER","thisIndex","withIndex","isIndexed","_defaultIndexMap","PRIORITY_INDEX","PriorityIndex","aPriority","bPriority","indexCmp","SortedMapIterator","startKey","comparator","isReverse_","resultGenerator_","nodeStack_","getNext","result","hasNext","peek","LLRBNode","color","RED","SortedMap","copy","count","inorderTraversal","reverseTraversal","min_","minKey","maxKey","insert","n","fixUp_","removeMin_","isRed_","moveRedLeft_","smallest","rotateRight_","moveRedRight_","rotateLeft_","colorFlip_","nl","nr","checkMaxDepth_","blackDepth","check_","BLACK","LLRBEmptyNode","comparator_","root_","getPredecessorKey","rightParent","getIterator","resultGenerator","getIteratorFrom","getReverseIteratorFrom","getReverseIterator","LOG_2","Base12Num","num","current_","mask","bits_","nextBitIsOne","buildChildSet","childList","keyFn","mapSortFn","root","base12","buildPennant","chunkSize","low","high","childTree","buildBalancedTree","namedNode","middle","attachPennant","pennant","isOne","buildFrom12Array","fallbackObject","IndexMap","indexes_","indexSet_","indexKey","sortedMap","safeGet","hasIndex","indexDefinition","addIndex","existingChildren","newIndex","sawIndexedValue","iter","indexName","newIndexSet","__assign","newIndexes","addToIndexes","_this","map","indexedChildren","existingSnap","newChildren","removeFromIndexes","NAME_ONLY_COMPARATOR","NAME_COMPARATOR","ChildrenNode","children_","indexMap_","Default","newIndexMap","newPriority","newImmediateChild","numKeys","allIntegerKeys","array","toHash_1","childHash","idx","resolveIndex_","predecessor","getFirstChildName","getFirstChild","getLastChildName","getLastChild","wrappedNode","startPost","iterator","endPost","MAX_NODE$2","otherChildrenNode","thisIter","otherIter","thisCurrent","otherCurrent","MaxNode","defineProperties","MAX","setMaxNode$1","nodeFromJSON$1","json","node_1","childData","children_1","childrenHavePriority_1","childSet","sortedChildSet","setNodeFromJSON","__referenceConstructor","VALUE_INDEX","ValueIndex","valueNode","PathIndex","indexPath_","extractChild","snap","aChild","bChild","DataSnapshot","node_","ref_","index_","exportVal","exists","childPathString","childPath","childRef","forEach","childrenNode","hasChildren","getKey","getRef","DataEvent","eventRegistration","prevName","getPath","ref","getParent","getEventType","getEventRunner","CancelEvent","ValueEventRegistration","callback_","cancelCallback_","context_","respondsTo","createEvent","change","query","getQueryParams","getIndex","snapshotNode","eventData","ctx","cancelCB_1","cb_1","createCancelEvent","matches","hasAnyCallback","ChildEventRegistration","callbacks_","eventToCheck","cancelCB_2","cb_2","otherKeys","thisKeys","otherCount","otherKey","thisKey","every","Query","repo","queryParams_","orderByCalled_","validateQueryEndpoints_","startNode","endNode","hasStart","getIndexStartValue","hasEnd","getIndexEndValue","tooManyArgsError","wrongArgTypeError","getIndexStartName","getIndexEndName","validateLimit_","hasLimit","hasAnchoredLimit","validateNoPreviousOrderByCall_","on","callback","cancelCallbackOrContext","context","ret","getCancelAndContextArgs_","onValueEvent","callbacks","onChildEvent","cancelCallback","container","addEventCallbackForQuery","off","validateContextObject","valueCallback","removeEventCallbackForQuery","once","userCallback","failureCallbackOrContext","firstCall","catch","onceCallback","resolve","err","reject","limitToFirst","limit","limitToLast","orderByChild","parsedPath","newParams","orderBy","orderByKey","orderByPriority","orderByValue","startAt","endAt","equalTo","queryObject","getQueryObject","queryIdentifier","isEqual","sameRepo","samePath","sameQueryIdentifier","cancelOrContext","ExistingValueProvider","DeferredValueProvider","syncTree","syncTree_","calcCompleteEventCache","resolveDeferredLeafValue","existingVal","serverValues","resolveScalarDeferredValue","resolveComplexDeferredValue","JSON","op","existing","unused","delta","existingNode","resolveDeferredValueTree","resolveDeferredValue","resolveDeferredValueSnapshot","rawPri","leafNode","OperationType","SparseSnapshotTree","children","Map","find","size","childKey","has","remember","clear","forget","self_1","tree","delete","forEachTree","prefixPath","func","emptyChildrenSingleton","__referenceConstructor$1","OperationSource","fromUser","fromServer","queryId","tagged","User","Server","forServerTaggedQuery","AckUserWrite","affectedTree","revert","ACK_USER_WRITE","source","operationForChild","subtree","Empty","ImmutableTree","fromObject","childSnap","findRootMostMatchingPathAndValue","predicate","childExistingPathAndValue","findRootMostValueAndPath","toSet","newChild","setTree","newTree","fold","fold_","pathSoFar","accum","findOnPath","findOnPath_","pathToFollow","nextChild","foreachOnPath","foreachOnPath_","currentRelativePath","foreach","foreach_","foreachChild","ListenComplete","LISTEN_COMPLETE","Overwrite","OVERWRITE","Merge","MERGE","CacheNode","fullyInitialized_","filtered_","isFullyInitialized","isFiltered","isCompleteForPath","isCompleteForChild","getNode","ViewCache","eventCache_","serverCache_","updateEventSnap","eventSnap","complete","filtered","updateServerSnap","serverSnap","getEventCache","getCompleteEventSnap","getServerCache","getCompleteServerSnap","Change","oldSnap","valueChange","VALUE","childAddedChange","CHILD_ADDED","childRemovedChange","CHILD_REMOVED","childChangedChange","newSnapshot","oldSnapshot","CHILD_CHANGED","childMovedChange","CHILD_MOVED","IndexedFilter","affectedPath","optChangeAccumulator","oldChild","trackChildChange","updateFullNode","newSnap","filtersNodes","getIndexedFilter","ChildChangeAccumulator","changeMap","oldChange","oldType","getChanges","from","values","NO_COMPLETE_CHILD_SOURCE","NoCompleteChildSource_","getCompleteChild","getChildAfterChild","WriteTreeCompleteChildSource","writes_","viewCache_","optCompleteServerCache_","serverNode","calcCompleteChild","completeServerData","nodes","calcIndexedSlice","ProcessorResult","viewCache","changes","ViewProcessor","filter_","assertIndexed","applyOperation","oldViewCache","operation","writesCache","completeCache","newViewCache","filterServerNode","accumulator","overwrite","applyUserOverwrite_","applyServerOverwrite_","merge","applyUserMerge_","applyServerMerge_","ackUserWrite","revertUserWrite_","ackUserWrite_","listenComplete_","maybeAddValueEvent_","isLeafOrEmpty","oldCompleteSnap","generateEventCacheAfterServerEvent_","changePath","oldEventSnap","shadowingWrite","newEventCache","serverCache","completeChildren","completeEventChildren","calcCompleteEventChildren","completeNode","oldEventNode","updatedPriority","calcEventCacheAfterServerOverwrite","childChangePath","newEventChild","eventChildUpdate","changedSnap","newServerCache","oldServerSnap","serverFilter","newServerNode","newEventSnap","cacheHasChild_","changedChildren","curViewCache","writePath","applyMerge_","viewMergeTree","serverChild","childMergeTree","isUnknownDeepMerge","ackPath","changedChildren_1","changedChildren_2","mergePath","serverCachePath","oldServerNode","completeServerCache","oldEventCache","serverChildren","EventGenerator","query_","generateEventsForChanges","eventCache","eventRegistrations","events","moves","generateEventsForType_","registrations","filteredChanges","filter","compareChanges_","materializedChange","materializeSingleChange_","registration","aWrapped","bWrapped","View","initialViewCache","eventRegistrations_","indexFilter","getNodeFilter","processor_","initialServerCache","initialEventCache","eventGenerator_","getQuery","getCompleteServerCache","cache","loadsAllData","addEventRegistration","removeEventRegistration","cancelError","cancelEvents","path_1","maybeEvent","remaining","concat","generateEventsForChanges_","getInitialEvents","initialChanges","SyncPoint","views","optCompleteServerCache","view","serverCacheComplete","eventCacheComplete","e_2","removed","hadCompleteView","hasCompleteView","entries","_d","__read","viewQueryId","e_2_1","getQueryViews","e_3","e_3_1","e_4","e_4_1","viewForQuery","getCompleteView","viewExistsForQuery","e_5","e_5_1","CompoundWrite","writeTree_","addWrite","rootmost","rootMostPath","addWrites","updates","newWrite","removeWrite","hasCompleteWrite","getCompleteNode","getCompleteChildren","childCompoundWrite","shadowingNode","applySubtreeWrite","writeTree","priorityWrite_1","WriteTree","visibleWrites_","allWrites_","lastWriteId_","childWrites","WriteTreeRef","addOverwrite","writeId","visible","addMerge","getWrite","record","findIndex","writeToRemove","splice","removedWriteWasVisible","removedWriteOverlapsWithOtherWrites","currentWrite","recordContainsPath_","resetTree_","getCompleteWriteData","treePath","writeIdsToExclude","includeHiddenWrites","mergeAtPath","layerTree_","write","layeredCache","subMerge","completeServerChildren","topLevelSet","merge_1","existingEventSnap","existingServerSnap","childMerge","toIterate","writeRecord","DefaultFilter_","writes","treeRoot","compoundWrite","deepNode","treePath_","existingServerCache","SyncTree","listenProvider_","syncPointTree_","pendingWriteTree_","tagToQueryMap","queryToTagMap","applyUserOverwrite","newData","applyOperationToSyncPoints_","applyUserMerge","changeTree","affectedTree_1","applyServerOverwrite","applyServerMerge","applyListenComplete","applyTaggedQueryOverwrite","tag","queryKey","queryKeyForTag_","r","parseQueryKey_","queryPath","applyTaggedOperation_","applyTaggedQueryMerge","applyTaggedListenComplete","foundAncestorDefaultView","pathToSyncPoint","sp","syncPoint","childSyncPoint","viewAlreadyExists","makeQueryKey_","getNextQueryTag_","setupListener_","maybeSyncPoint","removedAndEvents","removingDefault","covered","parentSyncPoint","newViews","collectDistinctViewsForSubTree_","newQuery","listener","createListenerForView_","startListening","queryForListening_","tagForQuery_","hashFn","stopListening","queryToRemove","tagToRemove","removeTags_","maybeChildSyncPoint","childMap","views_1","_key","childViews","queries","removedQuery","removedQueryKey","removedQueryTag","isDefault","queriesToStop","queries_1","childQueries","queryToStop","status","code","reason","toUpperCase","errorForServerCode","splitIndex","nextQueryTag_","applyOperationHelper_","syncPointTree","applyOperationDescendantsHelper_","childOperation","childServerCache","childWritesCache","SnapshotHolder","rootNode_","updateSnapshot","newSnapshotNode","StatsCollection","counters_","incrementCounter","amount","deepCopy","StatsManager","getCollection","hashString","collections_","getOrCreateReporter","creatorFunction","reporters_","StatsListener","collection_","last_","newStats","stat","StatsReporter","collection","server_","statsToReport_","statsListener_","reportStats_","includeStat","stats","reportedStats","haveStatsToReport","reportStats","EventQueue","eventLists_","recursionDepth_","queueEvents","eventDataList","currList","eventPath","EventList","add","raiseEventsAtPath","raiseQueuedEventsMatchingPredicate_","raiseEventsForChangedPath","changedPath","sentAll","eventList","raise","events_","eventFn","EventEmitter","allowedEvents_","listeners_","trigger","listeners","validateEventType_","getInitialEvent","et","VisibilityMonitor","hidden","visibilityChange","document","addEventListener","visible_","getInstance","OnlineMonitor","online_","isMobileCordova","currentlyOnline","PacketReceiver","onMessage_","pendingResponses","currentResponseNum","closeAfterResponse","onClose","closeAfter","responseNum","handleResponse","requestNum","_loop_1","toProcess","this_1","_loop_2","BrowserPollConnection","connId","applicationId","transportSessionId","lastSessionId","bytesSent","bytesReceived","everConnected_","log_","stats_","urlFn","open","onMessage","onDisconnect","curSegmentNum","onDisconnect_","myPacketOrderer","isClosed_","connectTimeoutTimer_","onClosed_","isNodeSdk","readyState","called_1","wrappedFn_1","body","attachEvent","executeWhenDOMReady","scriptTagHolder","FirebaseIFrameScriptHolder","args","command","arg1","arg2","incrementIncomingBytes_","clearTimeout","password","sendNewPolls","pN","urlParams","start","uniqueCallbackIdentifier","href","connectURL","addTag","startLongPoll","addDisconnectPingFrame","forceAllow","forceAllow_","forceDisallow","forceDisallow_","isAvailable","createElement","Windows","UI","markConnectionHealthy","shutdown_","close","myDisconnFrame","removeChild","send","dataStr","base64data","base64Encode","MAX_URL_DATA_SIZE","enqueueSegment","pw","dframe","src","style","display","appendChild","commandCB","onMessageCB","outstandingRequests","Set","pendingSegs","currentSerial","myIFrame","createIFrame_","script","iframeContents","doc","iframe","contentWindow","contentDocument","alive","innerHTML","myID","myPW","newRequest_","theURL","curDataString","d","theSeg","shift","seg","ts","addLongPollTag_","segnum","totalsegs","url","serial","doNewRequest","keepaliveTimeout","loadCB","doNodeLongPoll","newScript_1","async","onload","onreadystatechange","rstate","parentNode","onerror","SDK_VERSION","WebSocketImpl","MozWebSocket","WebSocket","WebSocketConnection","keepaliveTimer","frames","totalFrames","connectionURL_","device","options","headers","User-Agent","platform","X-Firebase-GMPID","env","proxy","origin","mySock","onopen","onclose","onmessage","m","handleIncomingFrame","isOldAndroid","navigator","userAgent","oldAndroidMatch","match","parseFloat","previouslyFailed","appendFrame_","fullMess","jsonMess","handleNewFrameCount_","frameCount","extractFrameCount_","isNaN","mess","resetKeepAlive","remainingData","sendString_","clearInterval","setInterval","responsesRequiredToBeHealthy","healthyTimeout","TransportManager","initTransports_","isWebSocketsAvailable","isSkipPollConnection","transports_","transports","ALL_TRANSPORTS","transport","initialTransport","upgradeTransport","Connection","repoInfo_","applicationId_","onReady_","onKill_","connectionCount","pendingDataMessages","state_","transportManager_","start_","conn","conn_","nextTransportId_","primaryResponsesRequired_","onMessageReceived","connReceiver_","onConnectionLost","disconnReceiver_","tx_","rx_","secondaryConn_","isHealthy_","healthyTimeoutMS","healthyTimeout_","everConnected","onConnectionLost_","onSecondaryConnectionLost_","onPrimaryMessageReceived_","onSecondaryMessageReceived_","sendRequest","dataMsg","msg","t","sendData_","tryCleanupConnection","onSecondaryControl_","controlData","cmd","upgradeIfSecondaryHealthy_","secondaryResponsesRequired_","parsedData","layer","proceedWithUpgrade_","onControl_","onDataMessage_","onPrimaryResponse_","payload","onHandshake_","onConnectionShutdown_","onReset_","sendPingOnPrimaryIfNecessary_","handshake","timestamp","version","h","sessionId","onConnectionEstablished_","tryStartUpgrade_","startUpgrade_","closeConnections_","ServerActions","put","refreshAuthToken","token","onDisconnectPut","onDisconnectMerge","PersistentConnection","onDataUpdate_","onConnectStatus_","onServerInfoUpdate_","authTokenProvider_","authOverride_","nextPersistentConnectionId_","interruptReasons_","listens","outstandingPuts_","outstandingPutCount_","onDisconnectRequestQueue_","connected_","reconnectDelay_","maxReconnectDelay_","securityDebugCallback_","establishConnectionTimer_","requestCBHash_","requestNumber_","realtime_","authToken_","forceTokenRefresh_","invalidAuthTokenCount_","firstConnection_","lastConnectionAttemptTime_","lastConnectionEstablishedTime_","scheduleConnect_","onVisible_","onOnline_","onResponse","curReqNum","listen","currentHashFn","listenSpec","sendListen_","req","p","warnOnListenWarnings_","removeListen_","warnings","indexSpec","indexPath","tryAuth","reduceReconnectDelayIfAdminCredential_","credential","isAdmin","token_1","authMethod","isValidFormat","requestData","cred","res","onAuthRevoked_","unlisten","sendUnlisten_","queryObj","sendOnDisconnect_","request","response","putInternal","sendPut_","queued","errorReason","reqNum","onDataPush_","onListenRevoked_","onSecurityDebugPacket_","Date","getTime","handleTimestamp_","sendConnectStats_","restoreState_","establishConnection_","online","onRealtimeDisconnect_","cancelSentTransactions_","shouldReconnect_","timeSinceLastConnectAttempt","reconnectDelay","onDataMessage_1","onReady_1","onDisconnect_1","connId_1","nextConnectionId_","lastSessionId_1","canceled_1","connection_1","closeFn_1","forceRefresh","getToken","then","accessToken","interrupt","resume","serverTimeOffset","q","normalizedPathString","statusCode","explanation","notifyForInvalidToken","console","_e","_f","clientName","isReactNative","ReadonlyRestClient","listens_","getListenId_","listenId","thisListen","queryStringParameters","toRestQueryStringParameters","restRequest_","authTokenData","authToken","querystring","xhr","XMLHttpRequest","responseText","Repo","forceRestClient","app","authTokenProvider","dataUpdateCount","eventQueue_","nextWriteId_","interceptServerDataCallback_","persistentConnection_","search","authOverride","appId","addTokenChangeListener","statsReporter_","transactionsInit_","infoData_","infoSyncTree_","infoEvents","updateInfo_","serverSyncTree_","serverTime","offset","generateServerValues","isMerge","taggedChildren","raw","taggedSnap","rerunTransactions_","interceptServerData_","connectStatus","runOnDisconnectEvents_","getNextWriteId_","newVal","newNodeUnresolved","success","clearEvents","callOnCompleteCallback","abortTransactions_","childrenToMerge","empty","changedKey","changedValue","writeId_1","resolvedOnDisconnectTree","resolved","showDelta","longestName","reduce","previousValue","currentValue","paddedStat","statsIncrementCounter","metric","__database","Database","RangedFilter","indexedFilter_","startPost_","getStartPost_","endPost_","getEndPost_","getStartPost","getEndPost","self","startName","endName","LimitedFilter","rangedFilter_","limit_","getLimit","reverse_","isViewFromLeft","fullLimitUpdateChild_","indexCompare_1","foundStartPost","changeAccumulator","indexCmp_1","newChildNamedNode","windowBoundary","inRange","oldChildSnap","compareNext","QueryParams","limitSet_","startSet_","startNameSet_","endSet_","endNameSet_","viewFrom_","indexStartValue_","indexStartName_","indexEndValue_","indexEndName_","WIRE_PROTOCOL_CONSTANTS_","VIEW_FROM_LEFT","copy_","newLimit","VIEW_FROM_RIGHT","WIRE_PROTOCOL_CONSTANTS","INDEX_START_VALUE","INDEX_START_NAME","INDEX_END_VALUE","INDEX_END_NAME","LIMIT","viewFrom","VIEW_FROM","INDEX","REST_CONSTANTS","REST_QUERY_CONSTANTS_","qs","ORDER_BY","START_AT","END_AT","LIMIT_TO_FIRST","LIMIT_TO_LAST","DEFAULT","Reference","parentPath","getRoot","databaseProp","database","transaction","transactionUpdate","applyLocally","promiseComplete","startTransaction","setPriority","thennablePushRef","pushRef","Promise","TransactionStatus","TreeNode","childCount","Tree","name_","parent_","subTree","pathObj","setValue","updateParents_","forEachDescendant","includeSelf","childrenFirst","forEachAncestor","forEachImmediateDescendantWithValue","updateChild_","childEmpty","childExists","MAX_TRANSACTION_RETRIES_","transactionQueueTree_","watchRef","order","retryCount","unwatcher","abortReason","currentWriteId","currentInputSnapshot","currentOutputSnapshotRaw","currentOutputSnapshotResolved","currentState","getLatestState_","RUN","queueNode","nodeQueue","priorityForNode","sendReadyTransactions_","excludeSets","pruneCompletedTransactionsBelowNode_","queue","buildTransactionQueue_","sendTransactionQueue_","setsToIgnore","txn","latestState","snapToSend","latestHash","SENT","dataToSend","pathToSend","COMPLETED","SENT_NEEDS_ABORT","NEEDS_ABORT","rootMostTransactionNode","getAncestorTransactionNode_","rerunTransactionQueue_","abortTransaction","currentNode","newDataNode","oldWriteId","newNodeResolved","lastInput","transactionNode","transactionQueue","aggregateTransactionQueuesForNode_","to","abortTransactionsOnNode_","lastSent","_staticInstance","FirebaseAuthTokenProvider","app_","authProvider_","auth_","getImmediate","auth","addAuthTokenListener","removeTokenChangeListener","removeAuthTokenListener","errorMessage","EmulatorAdminTokenProvider","EMULATOR_AUTH_TOKEN","RepoManager","repos_","useRestClient_","appName","dbUrl","databaseFromApp","authProvider","databaseURL","projectId","isEmulator","dbEmulatorHost","createRepo","deleteRepo","appRepos","INTERNAL","DatabaseInternals","checkDeleted_","refFromURL","apiName","parsedURL","goOffline","goOnline","ServerValue","TIMESTAMP",".sv","increment","__awaiter","__generator","freeze","__proto__","forceLongPolling","forceWebSockets","setSecurityDebugCallback","interceptServerData","DataConnection","simpleListen","echo","onEcho","RealTimeConnection","ConnectionTarget","TEST_ACCESS","hijackHash","newHash","oldPut","_forceRestClient","registerDatabase","instance","setSDKVersion","registerComponent","Component","getProvider","setServiceProps","setMultipleInstances","registerVersion"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{NSPt:function(t,e,n){\"use strict\";(function(r){Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(\"wj3C\"),o=n(\"mrSG\"),s=n(\"zVF4\"),a=n(\"q/0M\"),h=n(\"S+S0\");function l(t){return t&&\"object\"==typeof t&&\"default\"in t?t:{default:t}}var u,c=l(i),p=function(){function t(t){this.domStorage_=t,this.prefix_=\"firebase:\"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),s.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:s.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),d=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return s.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),f=function(t){try{if(\"undefined\"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem(\"firebase:sentinel\",\"cache\"),e.removeItem(\"firebase:sentinel\"),new p(e)}}catch(n){}return new d},_=f(\"localStorage\"),y=f(\"sessionStorage\"),v=new a.Logger(\"@firebase/database\"),g=(u=1,function(){return u++}),m=function(t){var e=s.stringToByteArray(t),n=new s.Sha1;n.update(e);var r=n.digest();return s.base64.encodeByteArray(r)},C=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=\"\",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&\"object\"==typeof o&&\"number\"==typeof o.length?r+=t.apply(null,o):r+=\"object\"==typeof o?s.stringify(o):o,r+=\" \"}return r},E=null,w=!0,T=function(t,e){s.assert(!e||!0===t||!1===t,\"Can't turn on custom loggers persistently.\"),!0===t?(v.logLevel=a.LogLevel.VERBOSE,E=v.log.bind(v),e&&y.set(\"logging_enabled\",!0)):\"function\"==typeof t?E=t:(E=null,y.remove(\"logging_enabled\"))},b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===E&&!0===y.get(\"logging_enabled\")&&T(!0)),E){var n=C.apply(null,t);E(n)}},S=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];b.apply(void 0,o.__spread([t],e))}},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE INTERNAL ERROR: \"+C.apply(void 0,o.__spread(t));v.error(n)},N=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE FATAL ERROR: \"+C.apply(void 0,o.__spread(t));throw v.error(n),new Error(n)},P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE WARNING: \"+C.apply(void 0,o.__spread(t));v.warn(n)},R=function(t){return\"number\"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},D=\"[MIN_NAME]\",x=\"[MAX_NAME]\",k=function(t,e){if(t===e)return 0;if(t===D||e===x)return-1;if(e===D||t===x)return 1;var n=q(t),r=q(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},O=function(t,e){return t===e?0:t<e?-1:1},F=function(t,e){if(e&&t in e)return e[t];throw new Error(\"Missing required key (\"+t+\") in object: \"+s.stringify(e))},A=function t(e){if(\"object\"!=typeof e||null===e)return s.stringify(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i=\"{\",o=0;o<n.length;o++)0!==o&&(i+=\",\"),i+=s.stringify(n[o]),i+=\":\",i+=t(e[n[o]]);return i+=\"}\"},L=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function M(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var W=function(t){s.assert(!R(t),\"Invalid JSON number\");var e,n,r,i,o;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var h=a.join(\"\"),l=\"\";for(o=0;o<64;o+=8){var u=parseInt(h.substr(o,8),2).toString(16);1===u.length&&(u=\"0\"+u),l+=u}return l.toLowerCase()},Q=new RegExp(\"^-?(0*)\\\\d{1,10}$\"),q=function(t){if(Q.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},U=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||\"\";throw P(\"Exception was thrown by user callback.\",t),e}),Math.floor(0))}},V=function(t,e){var n=setTimeout(t,e);return\"object\"==typeof n&&n.unref&&n.unref(),n},H=function(){function t(t,e){if(void 0===e){this.pieces_=t.split(\"/\");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,\"Empty\",{get:function(){return new t(\"\")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t=\"\",e=this.pieceNum_;e<this.pieces_.length;e++)\"\"!==this.pieces_[e]&&(t+=\"/\"+this.pieces_[e]);return t||\"/\"},t.prototype.toUrlEncodedString=function(){for(var t=\"\",e=this.pieceNum_;e<this.pieces_.length;e++)\"\"!==this.pieces_[e]&&(t+=\"/\"+encodeURIComponent(String(this.pieces_[e])));return t||\"/\"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split(\"/\");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error(\"INTERNAL ERROR: innerPath (\"+n+\") is not within outerPath (\"+e+\")\")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=k(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),j=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=s.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,\"MAX_PATH_DEPTH\",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,\"MAX_PATH_LENGTH_BYTES\",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=s.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=s.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+\"has a key path longer than \"+t.MAX_PATH_LENGTH_BYTES+\" bytes (\"+this.byteLength_+\").\");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+\"path specified exceeds the maximum depth that can be written (\"+t.MAX_PATH_DEPTH+\") or object contains a cycle \"+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?\"\":\"in property '\"+this.parts_.join(\".\")+\"'\"},t}(),B=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=\"\"),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(\".\")+1),this.internalHost=_.get(\"host:\"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return\"s-\"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return\"firebaseio-demo.com\"===this.domain},t.prototype.isCustomHost=function(){return\"firebaseio.com\"!==this.domain&&\"firebaseio-demo.com\"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&_.set(\"host:\"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(s.assert(\"string\"==typeof t,\"typeof type must == string\"),s.assert(\"object\"==typeof e,\"typeof params must == object\"),\"websocket\"===t)n=(this.secure?\"wss://\":\"ws://\")+this.internalHost+\"/.ws?\";else{if(\"long_polling\"!==t)throw new Error(\"Unknown connection type: \"+t);n=(this.secure?\"https://\":\"http://\")+this.internalHost+\"/.lp?\"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return M(e,(function(t,e){r.push(t+\"=\"+e)})),n+r.join(\"&\")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+=\"<\"+this.persistenceKey+\">\"),t},t.prototype.toURLString=function(){return(this.secure?\"https://\":\"http://\")+this.host},t}();var K,Y,z,G,X,$=function(t,e){var n=J(t),r=n.namespace;\"firebase.com\"===n.domain&&N(n.host+\" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead\"),r&&\"undefined\"!==r||\"localhost\"===n.domain||N(\"Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com\"),n.secure||\"undefined\"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf(\"https:\")&&P(\"Insecure Firebase access from a secure page. Please use https in calls to new Firebase().\");var i=\"ws\"===n.scheme||\"wss\"===n.scheme;return{repoInfo:new B(n.host,n.secure,r,e,i,\"\",r!==n.subdomain),path:new H(n.pathString)}},J=function(t){var e=\"\",n=\"\",r=\"\",i=\"\",s=\"\",a=!0,h=\"https\",l=443;if(\"string\"==typeof t){var u=t.indexOf(\"//\");u>=0&&(h=t.substring(0,u-1),t=t.substring(u+2));var c=t.indexOf(\"/\");-1===c&&(c=t.length);var p=t.indexOf(\"?\");-1===p&&(p=t.length),e=t.substring(0,Math.min(c,p)),c<p&&(i=function(t){for(var e=\"\",n=t.split(\"/\"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\\+/g,\" \"))}catch(o){}e+=\"/\"+i}return e}(t.substring(c,p)));var d=function(t){var e,n,r={};\"?\"===t.charAt(0)&&(t=t.substring(1));try{for(var i=o.__values(t.split(\"&\")),s=i.next();!s.done;s=i.next()){var a=s.value;if(0!==a.length){var h=a.split(\"=\");2===h.length?r[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):P(\"Invalid query segment '\"+a+\"' in query '\"+t+\"'\")}}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,p)));(u=e.indexOf(\":\"))>=0?(a=\"https\"===h||\"wss\"===h,l=parseInt(e.substring(u+1),10)):u=e.length;var f=e.slice(0,u);if(\"localhost\"===f.toLowerCase())n=\"localhost\";else if(f.split(\".\").length<=2)n=f;else{var _=e.indexOf(\".\");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}\"ns\"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:h,pathString:i,namespace:s}},Z=/[\\[\\].#$\\/\\u0000-\\u001F\\u007F]/,tt=/[\\[\\].#$\\u0000-\\u001F\\u007F]/,et=function(t){return\"string\"==typeof t&&0!==t.length&&!Z.test(t)},nt=function(t){return\"string\"==typeof t&&0!==t.length&&!tt.test(t)},rt=function(t){return null===t||\"string\"==typeof t||\"number\"==typeof t&&!R(t)||t&&\"object\"==typeof t&&s.contains(t,\".sv\")},it=function(t,e,n,r,i){i&&void 0===n||ot(s.errorPrefix(t,e,i),n,r)},ot=function t(e,n,r){var i=r instanceof H?new j(r,e):r;if(void 0===n)throw new Error(e+\"contains undefined \"+i.toErrorString());if(\"function\"==typeof n)throw new Error(e+\"contains a function \"+i.toErrorString()+\" with contents = \"+n.toString());if(R(n))throw new Error(e+\"contains \"+n.toString()+\" \"+i.toErrorString());if(\"string\"==typeof n&&n.length>10485760/3&&s.stringLength(n)>10485760)throw new Error(e+\"contains a string greater than 10485760 utf8 bytes \"+i.toErrorString()+\" ('\"+n.substring(0,50)+\"...')\");if(n&&\"object\"==typeof n){var o=!1,a=!1;if(M(n,(function(n,r){if(\".value\"===n)o=!0;else if(\".priority\"!==n&&\".sv\"!==n&&(a=!0,!et(n)))throw new Error(e+\" contains an invalid key (\"+n+\") \"+i.toErrorString()+'.  Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');i.push(n),t(e,r,i),i.pop()})),o&&a)throw new Error(e+' contains \".value\" child '+i.toErrorString()+\" in addition to actual children.\")}},st=function(t,e,n,r,i){if(!i||void 0!==n){var o=s.errorPrefix(t,e,i);if(!n||\"object\"!=typeof n||Array.isArray(n))throw new Error(o+\" must be an object containing the children to replace.\");var a=[];M(n,(function(t,e){var n=new H(t);if(ot(o,e,r.child(n)),\".priority\"===n.getBack()&&!rt(e))throw new Error(o+\"contains an invalid value for '\"+n.toString()+\"', which must be a valid Firebase priority (a string, finite number, server value, or null).\");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(\".priority\"===i[o]&&o===i.length-1);else if(!et(i[o]))throw new Error(t+\"contains an invalid key (\"+i[o]+\") in path \"+r.toString()+'. Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');e.sort(H.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+\"contains a path \"+s.toString()+\" that is ancestor of another path \"+r.toString());s=r}}(o,a)}},at=function(t,e,n,r){if(!r||void 0!==n){if(R(n))throw new Error(s.errorPrefix(t,e,r)+\"is \"+n.toString()+\", but must be a valid Firebase priority (a string, finite number, server value, or null).\");if(!rt(n))throw new Error(s.errorPrefix(t,e,r)+\"must be a valid Firebase priority (a string, finite number, server value, or null).\")}},ht=function(t,e,n,r){if(!r||void 0!==n)switch(n){case\"value\":case\"child_added\":case\"child_removed\":case\"child_changed\":case\"child_moved\":break;default:throw new Error(s.errorPrefix(t,e,r)+'must be a valid event type = \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".')}},lt=function(t,e,n,r){if(!(r&&void 0===n||et(n)))throw new Error(s.errorPrefix(t,e,r)+'was an invalid key = \"'+n+'\".  Firebase keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\").')},ut=function(t,e,n,r){if(!(r&&void 0===n||nt(n)))throw new Error(s.errorPrefix(t,e,r)+'was an invalid path = \"'+n+'\". Paths must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\"')},ct=function(t,e,n,r){n&&(n=n.replace(/^\\/*\\.info(\\/|$)/,\"/\")),ut(t,e,n,r)},pt=function(t,e){if(\".info\"===e.getFront())throw new Error(t+\" failed = Can't modify data under /.info/\")},dt=function(t,e,n){var r=n.path.toString();if(\"string\"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!et(n.repoInfo.namespace)&&\"localhost\"!==n.repoInfo.host.split(\":\")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\\/*\\.info(\\/|$)/,\"/\")),nt(t)}(r))throw new Error(s.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\".')},ft=function(t,e,n,r){if((!r||void 0!==n)&&\"boolean\"!=typeof n)throw new Error(s.errorPrefix(t,e,r)+\"must be a boolean.\")},_t=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){s.validateArgCount(\"OnDisconnect.cancel\",0,1,arguments.length),s.validateCallback(\"OnDisconnect.cancel\",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){s.validateArgCount(\"OnDisconnect.remove\",0,1,arguments.length),pt(\"OnDisconnect.remove\",this.path_),s.validateCallback(\"OnDisconnect.remove\",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){s.validateArgCount(\"OnDisconnect.set\",1,2,arguments.length),pt(\"OnDisconnect.set\",this.path_),it(\"OnDisconnect.set\",1,t,this.path_,!1),s.validateCallback(\"OnDisconnect.set\",2,e,!0);var n=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){s.validateArgCount(\"OnDisconnect.setWithPriority\",2,3,arguments.length),pt(\"OnDisconnect.setWithPriority\",this.path_),it(\"OnDisconnect.setWithPriority\",1,t,this.path_,!1),at(\"OnDisconnect.setWithPriority\",2,e,!1),s.validateCallback(\"OnDisconnect.setWithPriority\",3,n,!0);var r=new s.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(s.validateArgCount(\"OnDisconnect.update\",1,2,arguments.length),pt(\"OnDisconnect.update\",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[\"\"+r]=t[r];t=n,P(\"Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}st(\"OnDisconnect.update\",1,t,this.path_,!1),s.validateCallback(\"OnDisconnect.update\",2,e,!0);var i=new s.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),yt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return s.validateArgCount(\"TransactionResult.toJSON\",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),vt=(K=\"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\",Y=0,z=[],function(t){var e,n=t===Y;Y=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=K.charAt(t%64),t=Math.floor(t/64);s.assert(0===t,\"Cannot push at time == 0\");var i=r.join(\"\");if(n){for(e=11;e>=0&&63===z[e];e--)z[e]=0;z[e]++}else for(e=0;e<12;e++)z[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=K.charAt(z[e]);return s.assert(20===i.length,\"nextPushId: Length should be 20.\"),i}),gt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),mt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new gt(D,t),r=new gt(D,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return gt.MIN},t}(),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),Object.defineProperty(e,\"__EMPTY_NODE\",{get:function(){return G},set:function(t){G=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return k(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw s.assertionError(\"KeyIndex.isDefinedOn not expected to be called.\")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return gt.MIN},e.prototype.maxPost=function(){return new gt(x,G)},e.prototype.makePost=function(t,e){return s.assert(\"string\"==typeof t,\"KeyIndex indexValue must always be a string.\"),new gt(t,G)},e.prototype.toString=function(){return\".key\"},e}(mt),Et=new Ct;var wt,Tt,bt,St=function(t){return\"number\"==typeof t?\"number:\"+W(t):\"string:\"+t},It=function(t){if(t.isLeafNode()){var e=t.val();s.assert(\"string\"==typeof e||\"number\"==typeof e||\"object\"==typeof e&&s.contains(e,\".sv\"),\"Priority must be a string or number.\")}else s.assert(t===X||t.isEmpty(),\"priority of unexpected type.\");s.assert(t===X||t.getPriority().isEmpty(),\"Priority nodes can't have a priority of their own.\")},Nt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,s.assert(void 0!==this.value_&&null!==this.value_,\"LeafNode shouldn't be created with null/undefined value.\"),It(this.priorityNode_)}return Object.defineProperty(t,\"__childrenNodeConstructor\",{get:function(){return wt},set:function(t){wt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return\".priority\"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:\".priority\"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return\".priority\"===e?this.updatePriority(n):n.isEmpty()&&\".priority\"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&\".priority\"!==r?this:(s.assert(\".priority\"!==r||1===e.getLength(),\".priority must be the last token in a path\"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{\".value\":this.getValue(),\".priority\":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t=\"\";this.priorityNode_.isEmpty()||(t+=\"priority:\"+St(this.priorityNode_.val())+\":\");var e=typeof this.value_;t+=e+\":\",t+=\"number\"===e?W(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(s.assert(e.isLeafNode(),\"Unknown node type\"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return s.assert(i>=0,\"Unknown leaf type: \"+n),s.assert(o>=0,\"Unknown leaf type: \"+r),i===o?\"object\"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=[\"object\",\"boolean\",\"number\",\"string\"],t}();var Pt,Rt,Dt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?k(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return gt.MIN},e.prototype.maxPost=function(){return new gt(x,new Nt(\"[PRIORITY-POST]\",bt))},e.prototype.makePost=function(t,e){var n=Tt(t);return new gt(e,new Nt(\"[PRIORITY-POST]\",n))},e.prototype.toString=function(){return\".priority\"},e}(mt)),xt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),kt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Ft.EMPTY_NODE,this.right=null!=o?o:Ft.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ft.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ft.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error(\"Red node has red child(\"+this.key+\",\"+this.value+\")\");if(this.right.isRed_())throw new Error(\"Right child of (\"+this.key+\",\"+this.value+\") is red\");var t=this.left.check_();if(t!==this.right.check_())throw new Error(\"Black depths differ\");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ot=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new kt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ft=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,kt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error(\"Attempted to find predecessor key for a nonexistent key.  What gives?\")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new xt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new xt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new xt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new xt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ot,t}(),At=Math.log(2),Lt=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/At,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join(\"1\"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Mt=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,s=function(e,r){var i=o-e,s=o;o-=e;var h=function e(r,i){var o,s,a=i-r;if(0===a)return null;if(1===a)return o=t[r],s=n?n(o):o,new kt(s,o.node,kt.BLACK,null,null);var h=parseInt(a/2,10)+r,l=e(r,h),u=e(h+1,i);return o=t[h],s=n?n(o):o,new kt(s,o.node,kt.BLACK,l,u)}(i+1,s),l=t[i],u=n?n(l):l;a(new kt(u,l.node,r,null,h))},a=function(t){r?(r.left=t,r=t):(i=t,r=t)},h=0;h<e.count;++h){var l=e.nextBitIsOne(),u=Math.pow(2,e.count-(h+1));l?s(u,kt.BLACK):(s(u,kt.BLACK),s(u,kt.RED))}return i}(new Lt(t.length));return new Ft(r||e,i)},Wt={},Qt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,\"Default\",{get:function(){return s.assert(Wt&&Dt,\"ChildrenNode.ts has not been loaded\"),Pt=Pt||new t({\".priority\":Wt},{\".priority\":Dt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=s.safeGet(this.indexes_,t);if(!e)throw new Error(\"No index defined for \"+t);return e instanceof Ft?e:null},t.prototype.hasIndex=function(t){return s.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){s.assert(e!==Et,\"KeyIndex always exists and isn't meant to be added to the IndexMap.\");for(var r,i=[],a=!1,h=n.getIterator(gt.Wrap),l=h.getNext();l;)a=a||e.isDefinedOn(l.node),i.push(l),l=h.getNext();r=a?Mt(i,e.getCompare()):Wt;var u=e.toString(),c=o.__assign({},this.indexSet_);c[u]=e;var p=o.__assign({},this.indexes_);return p[u]=r,new t(p,c)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(s.map(this.indexes_,(function(t,i){var o=s.safeGet(r.indexSet_,i);if(s.assert(o,\"Missing index implementation for \"+i),t===Wt){if(o.isDefinedOn(e.node)){for(var a=[],h=n.getIterator(gt.Wrap),l=h.getNext();l;)l.name!==e.name&&a.push(l),l=h.getNext();return a.push(e),Mt(a,o.getCompare())}return Wt}var u=n.get(e.name),c=t;return u&&(c=c.remove(new gt(e.name,u))),c.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(s.map(this.indexes_,(function(t){if(t===Wt)return t;var r=n.get(e.name);return r?t.remove(new gt(e.name,r)):t})),this.indexSet_)},t}();function qt(t,e){return k(t.name,e.name)}function Ut(t,e){return k(t,e)}var Vt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&It(this.priorityNode_),this.children_.isEmpty()&&s.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),\"An empty node cannot have a priority\")}return Object.defineProperty(t,\"EMPTY_NODE\",{get:function(){return Rt||(Rt=new t(new Ft(Ut),null,Qt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Rt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(\".priority\"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Rt:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(s.assert(n,\"We should always be passing snapshot nodes\"),\".priority\"===e)return this.updatePriority(n);var r=new gt(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Rt:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;s.assert(\".priority\"!==t.getFront()||1===t.getLength(),\".priority must be the last token in a path\");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Dt,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[\".priority\"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t=\"\";this.getPriority().isEmpty()||(t+=\"priority:\"+St(this.getPriority().val())+\":\"),this.forEachChild(Dt,(function(e,n){var r=n.hash();\"\"!==r&&(t+=\":\"+e+\":\"+r)})),this.lazyHash_=\"\"===t?\"\":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new gt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new gt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new gt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,gt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,gt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ht?-1:0},t.prototype.withIndex=function(e){if(e===Et||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Et||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Dt),r=e.getIterator(Dt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Et?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\\d*)$/,t}(),Ht=new(function(t){function e(){return t.call(this,new Ft(Ut),Vt.EMPTY_NODE,Qt.Default)||this}return o.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Vt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Vt));Object.defineProperties(gt,{MIN:{value:new gt(D,Vt.EMPTY_NODE)},MAX:{value:new gt(x,Ht)}}),Ct.__EMPTY_NODE=Vt.EMPTY_NODE,Nt.__childrenNodeConstructor=Vt,X=Ht,function(t){bt=t}(Ht);function jt(t,e){if(void 0===e&&(e=null),null===t)return Vt.EMPTY_NODE;if(\"object\"==typeof t&&\".priority\"in t&&(e=t[\".priority\"]),s.assert(null===e||\"string\"==typeof e||\"number\"==typeof e||\"object\"==typeof e&&\".sv\"in e,\"Invalid priority type found: \"+typeof e),\"object\"==typeof t&&\".value\"in t&&null!==t[\".value\"]&&(t=t[\".value\"]),\"object\"!=typeof t||\".sv\"in t)return new Nt(t,jt(e));if(t instanceof Array){var n=Vt.EMPTY_NODE;return M(t,(function(e,r){if(s.contains(t,e)&&\".\"!==e.substring(0,1)){var i=jt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(jt(e))}var r=[],i=!1;if(M(t,(function(t,e){if(\".\"!==t.substring(0,1)){var n=jt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new gt(t,n)))}})),0===r.length)return Vt.EMPTY_NODE;var o=Mt(r,qt,(function(t){return t.name}),Ut);if(i){var a=Mt(r,Dt.getCompare());return new Vt(o,jt(e),new Qt({\".priority\":a},{\".priority\":Dt}))}return new Vt(o,jt(e),Qt.Default)}!function(t){Tt=t}(jt);var Bt,Kt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?k(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return gt.MIN},e.prototype.maxPost=function(){return gt.MAX},e.prototype.makePost=function(t,e){var n=jt(t);return new gt(e,n)},e.prototype.toString=function(){return\".value\"},e}(mt)),Yt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,s.assert(!e.isEmpty()&&\".priority\"!==e.getFront(),\"Can't create PathIndex with empty path or .priority key\"),n}return o.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?k(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=jt(t),r=Vt.EMPTY_NODE.updateChild(this.indexPath_,n);return new gt(e,r)},e.prototype.maxPost=function(){var t=Vt.EMPTY_NODE.updateChild(this.indexPath_,Ht);return new gt(x,t)},e.prototype.toString=function(){return this.indexPath_.slice().join(\"/\")},e}(mt),zt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return s.validateArgCount(\"DataSnapshot.val\",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return s.validateArgCount(\"DataSnapshot.exportVal\",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return s.validateArgCount(\"DataSnapshot.toJSON\",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return s.validateArgCount(\"DataSnapshot.exists\",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){s.validateArgCount(\"DataSnapshot.child\",0,1,arguments.length),e=String(e),ut(\"DataSnapshot.child\",1,e,!1);var n=new H(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Dt)},t.prototype.hasChild=function(t){s.validateArgCount(\"DataSnapshot.hasChild\",1,1,arguments.length),ut(\"DataSnapshot.hasChild\",1,t,!1);var e=new H(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return s.validateArgCount(\"DataSnapshot.getPriority\",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(s.validateArgCount(\"DataSnapshot.forEach\",1,1,arguments.length),s.validateCallback(\"DataSnapshot.forEach\",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Dt))}))},t.prototype.hasChildren=function(){return s.validateArgCount(\"DataSnapshot.hasChildren\",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,\"key\",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return s.validateArgCount(\"DataSnapshot.numChildren\",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return s.validateArgCount(\"DataSnapshot.ref\",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,\"ref\",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Gt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return\"value\"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+\":\"+this.eventType+\":\"+s.stringify(this.snapshot.exportVal())},t}(),Xt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return\"cancel\"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+\":cancel\"},t}(),$t=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return\"value\"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Gt(\"value\",this,new zt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if(\"cancel\"===t.getEventType()){s.assert(this.cancelCallback_,\"Raising a cancel event on a listener with no cancel callback\");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Xt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Jt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e=\"children_added\"===t?\"child_added\":t;return e=\"children_removed\"===e?\"child_removed\":e,s.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Xt(this,t,e):null},t.prototype.createEvent=function(t,e){s.assert(null!=t.childName,\"Child events should have a childName.\");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Gt(t.type,this,new zt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if(\"cancel\"===t.getEventType()){s.assert(this.cancelCallback_,\"Raising a cancel event on a listener with no cancel callback\");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Zt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,\"__referenceConstructor\",{get:function(){return s.assert(Bt,\"Reference.ts has not been loaded\"),Bt},set:function(t){Bt=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Et){var r=\"Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().\",i=\"Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.\";if(t.hasStart()){if(t.getIndexStartName()!==D)throw new Error(r);if(\"string\"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==x)throw new Error(r);if(\"string\"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Dt){if(null!=e&&!rt(e)||null!=n&&!rt(n))throw new Error(\"Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).\")}else if(s.assert(t.getIndex()instanceof Yt||t.getIndex()===Kt,\"unknown index type.\"),null!=e&&\"object\"==typeof e||null!=n&&\"object\"==typeof n)throw new Error(\"Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.\")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error(\"Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.\")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+\": You can't combine multiple orderBy calls.\")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return s.validateArgCount(\"Query.ref\",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){s.validateArgCount(\"Query.on\",2,4,arguments.length),ht(\"Query.on\",1,e,!1),s.validateCallback(\"Query.on\",2,n,!1);var o=t.getCancelAndContextArgs_(\"Query.on\",r,i);if(\"value\"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new $t(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Jt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){s.validateArgCount(\"Query.off\",0,3,arguments.length),ht(\"Query.off\",1,t,!0),s.validateCallback(\"Query.off\",2,e,!0),s.validateContextObject(\"Query.off\",3,n,!0);var r=null,i=null;if(\"value\"===t){var o=e||null;r=new $t(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Jt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;s.validateArgCount(\"Query.once\",1,4,arguments.length),ht(\"Query.once\",1,e,!1),s.validateCallback(\"Query.once\",2,n,!0);var a=t.getCancelAndContextArgs_(\"Query.once\",r,i),h=!0,l=new s.Deferred;l.promise.catch((function(){}));var u=function t(r){h&&(h=!1,o.off(e,t),n&&n.bind(a.context)(r),l.resolve(r))};return this.on(e,u,(function(t){o.off(e,u),a.cancel&&a.cancel.bind(a.context)(t),l.reject(t)})),l.promise},t.prototype.limitToFirst=function(e){if(s.validateArgCount(\"Query.limitToFirst\",1,1,arguments.length),\"number\"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error(\"Query.limitToFirst: First argument must be a positive integer.\");if(this.queryParams_.hasLimit())throw new Error(\"Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(s.validateArgCount(\"Query.limitToLast\",1,1,arguments.length),\"number\"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error(\"Query.limitToLast: First argument must be a positive integer.\");if(this.queryParams_.hasLimit())throw new Error(\"Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(s.validateArgCount(\"Query.orderByChild\",1,1,arguments.length),\"$key\"===e)throw new Error('Query.orderByChild: \"$key\" is invalid.  Use Query.orderByKey() instead.');if(\"$priority\"===e)throw new Error('Query.orderByChild: \"$priority\" is invalid.  Use Query.orderByPriority() instead.');if(\"$value\"===e)throw new Error('Query.orderByChild: \"$value\" is invalid.  Use Query.orderByValue() instead.');ut(\"Query.orderByChild\",1,e,!1),this.validateNoPreviousOrderByCall_(\"Query.orderByChild\");var n=new H(e);if(n.isEmpty())throw new Error(\"Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.\");var r=new Yt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){s.validateArgCount(\"Query.orderByKey\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByKey\");var e=this.queryParams_.orderBy(Et);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){s.validateArgCount(\"Query.orderByPriority\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByPriority\");var e=this.queryParams_.orderBy(Dt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){s.validateArgCount(\"Query.orderByValue\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByValue\");var e=this.queryParams_.orderBy(Kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),s.validateArgCount(\"Query.startAt\",0,2,arguments.length),it(\"Query.startAt\",1,e,this.path,!0),lt(\"Query.startAt\",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error(\"Query.startAt: Starting point was already set (by another call to startAt or equalTo).\");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),s.validateArgCount(\"Query.endAt\",0,2,arguments.length),it(\"Query.endAt\",1,e,this.path,!0),lt(\"Query.endAt\",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error(\"Query.endAt: Ending point was already set (by another call to endAt or equalTo).\");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(s.validateArgCount(\"Query.equalTo\",1,2,arguments.length),it(\"Query.equalTo\",1,t,this.path,!1),lt(\"Query.equalTo\",2,e,!0),this.queryParams_.hasStart())throw new Error(\"Query.equalTo: Starting point was already set (by another call to startAt or equalTo).\");if(this.queryParams_.hasEnd())throw new Error(\"Query.equalTo: Ending point was already set (by another call to endAt or equalTo).\");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return s.validateArgCount(\"Query.toString\",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return s.validateArgCount(\"Query.toJSON\",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=A(t);return\"{}\"===e?\"default\":e},t.prototype.isEqual=function(e){if(s.validateArgCount(\"Query.isEqual\",1,1,arguments.length),!(e instanceof t)){var n=\"Query.isEqual failed: First argument must be an instance of firebase.database.Query.\";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,s.validateCallback(t,3,r.cancel,!0),r.context=n,s.validateContextObject(t,4,r.context,!0);else if(e)if(\"object\"==typeof e&&null!==e)r.context=e;else{if(\"function\"!=typeof e)throw new Error(s.errorPrefix(t,3,!0)+\" must either be a cancel callback or a context object.\");r.cancel=e}return r},Object.defineProperty(t.prototype,\"ref\",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),te=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ee=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),ne=function(t,e,n){return t&&\"object\"==typeof t?(s.assert(\".sv\"in t,\"Unexpected leaf node or priority contents\"),\"string\"==typeof t[\".sv\"]?re(t[\".sv\"],e,n):\"object\"==typeof t[\".sv\"]?ie(t[\".sv\"],e):void s.assert(!1,\"Unexpected server value: \"+JSON.stringify(t,null,2))):t},re=function(t,e,n){switch(t){case\"timestamp\":return n.timestamp;default:s.assert(!1,\"Unexpected server value: \"+t)}},ie=function(t,e,n){t.hasOwnProperty(\"increment\")||s.assert(!1,\"Unexpected server value: \"+JSON.stringify(t,null,2));var r=t.increment;\"number\"!=typeof r&&s.assert(!1,\"Unexpected increment value: \"+r);var i=e.node();if(s.assert(null!=i,\"Expected ChildrenNode.EMPTY_NODE for nulls\"),!i.isLeafNode())return r;var o=i.getValue();return\"number\"!=typeof o?r:o+r},oe=function(t,e,n,r){return ae(e,new ee(n,t),r)},se=function(t,e,n){return ae(t,new te(e),n)};function ae(t,e,n){var r,i=t.getPriority().val(),o=ne(i,e.getImmediateChild(\".priority\"),n);if(t.isLeafNode()){var s=t,a=ne(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Nt(a,jt(o)):t}var h=t;return r=h,o!==h.getPriority().val()&&(r=r.updatePriority(new Nt(o))),h.forEachChild(Dt,(function(t,i){var o=ae(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var he,le=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Dt,(function(t,e){n.remember(new H(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new H(t.toString()+\"/\"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();!function(t){t[t.OVERWRITE=0]=\"OVERWRITE\",t[t.MERGE=1]=\"MERGE\",t[t.ACK_USER_WRITE=2]=\"ACK_USER_WRITE\",t[t.LISTEN_COMPLETE=3]=\"LISTEN_COMPLETE\"}(he||(he={}));var ue,ce,pe=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,s.assert(!r||e,\"Tagged queries must be from server.\")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),de=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=he.ACK_USER_WRITE,this.source=pe.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return s.assert(this.affectedTree.children.isEmpty(),\"affectedTree should not have overlapping affected paths.\"),this;var n=this.affectedTree.subtree(new H(e));return new t(H.Empty,n,this.revert)}return s.assert(this.path.getFront()===e,\"operationForChild called for unrelated child.\"),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),fe=function(){function t(t,e){void 0===e&&(ue||(ue=new Ft(O)),e=ue),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return M(e,(function(t,e){n=n.set(new H(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:H.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new H(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(H.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,H.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,H.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(H.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),_e=function(){function t(t,e){this.source=t,this.path=e,this.type=he.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,H.Empty):new t(this.source,this.path.popFront())},t}(),ye=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=he.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,H.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ve=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=he.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new H(e));return n.isEmpty()?null:n.value?new ye(this.source,H.Empty,n.value):new t(this.source,H.Empty,n)}return s.assert(this.path.getFront()===e,\"Can't get a merge for a child not on the path of the operation\"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" merge: \"+this.children.toString()+\")\"},t}(),ge=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),me=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ge(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ge(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ge(Vt.EMPTY_NODE,!1,!1),new ge(Vt.EMPTY_NODE,!1,!1)),t}(),Ce=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED=\"child_added\",t.CHILD_REMOVED=\"child_removed\",t.CHILD_CHANGED=\"child_changed\",t.CHILD_MOVED=\"child_moved\",t.VALUE=\"value\",t}(),Ee=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){s.assert(t.isIndexed(this.index_),\"A node must be indexed if only a child is updated\");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Ce.childRemovedChange(e,a)):s.assert(t.isLeafNode(),\"A child remove without an old child only makes sense on a leaf node\"):a.isEmpty()?o.trackChildChange(Ce.childAddedChange(e,n)):o.trackChildChange(Ce.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Dt,(function(t,r){e.hasChild(t)||n.trackChildChange(Ce.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Dt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Ce.childChangedChange(e,r,i))}else n.trackChildChange(Ce.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Vt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),we=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;s.assert(e===Ce.CHILD_ADDED||e===Ce.CHILD_CHANGED||e===Ce.CHILD_REMOVED,\"Only child changes supported for tracking\"),s.assert(\".priority\"!==n,\"Only non-priority child changes can be tracked.\");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===Ce.CHILD_ADDED&&i===Ce.CHILD_REMOVED)this.changeMap.set(n,Ce.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===Ce.CHILD_REMOVED&&i===Ce.CHILD_ADDED)this.changeMap.delete(n);else if(e===Ce.CHILD_REMOVED&&i===Ce.CHILD_CHANGED)this.changeMap.set(n,Ce.childRemovedChange(n,r.oldSnap));else if(e===Ce.CHILD_CHANGED&&i===Ce.CHILD_ADDED)this.changeMap.set(n,Ce.childAddedChange(n,t.snapshotNode));else{if(e!==Ce.CHILD_CHANGED||i!==Ce.CHILD_CHANGED)throw s.assertionError(\"Illegal combination of changes: \"+t+\" occurred after \"+r);this.changeMap.set(n,Ce.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Te=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),be=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ge(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Se=function(t,e){this.viewCache=t,this.changes=e},Ie=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){s.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),\"Event snap not indexed\"),s.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),\"Server snap not indexed\")},t.prototype.applyOperation=function(e,n,r,i){var o,a,h=new we;if(n.type===he.OVERWRITE){var l=n;l.source.fromUser?o=this.applyUserOverwrite_(e,l.path,l.snap,r,i,h):(s.assert(l.source.fromServer,\"Unknown source.\"),a=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),o=this.applyServerOverwrite_(e,l.path,l.snap,r,i,a,h))}else if(n.type===he.MERGE){var u=n;u.source.fromUser?o=this.applyUserMerge_(e,u.path,u.children,r,i,h):(s.assert(u.source.fromServer,\"Unknown source.\"),a=u.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,u.path,u.children,r,i,a,h))}else if(n.type===he.ACK_USER_WRITE){var c=n;o=c.revert?this.revertUserWrite_(e,c.path,r,i,h):this.ackUserWrite_(e,c.path,c.affectedTree,r,i,h)}else{if(n.type!==he.LISTEN_COMPLETE)throw s.assertionError(\"Unknown operation type: \"+n.type);o=this.listenComplete_(e,n.path,r,h)}var p=h.getChanges();return t.maybeAddValueEvent_(e,o,p),new Se(o,p)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Ce.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,h=void 0;if(e.isEmpty())if(s.assert(t.getServerCache().isFullyInitialized(),\"If change path is empty, we must have complete server data\"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),u=l instanceof Vt?l:Vt.EMPTY_NODE,c=n.calcCompleteEventChildren(u);a=this.filter_.updateFullNode(t.getEventCache().getNode(),c,i)}else{var p=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),p,i)}else{var d=e.getFront();if(\".priority\"===d){s.assert(1===e.getLength(),\"Can't have a priority with additional path components\");var f=o.getNode();h=t.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(e,f,h);a=null!=_?this.filter_.updatePriority(f,_):o.getNode()}else{var y=e.popFront(),v=void 0;if(o.isCompleteForChild(d)){h=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),h);v=null!=g?o.getNode().getImmediateChild(d).updateChild(y,g):o.getNode().getImmediateChild(d)}else v=n.calcCompleteChild(d,t.getServerCache());a=null!=v?this.filter_.updateChild(o.getNode(),d,v,y,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,h=t.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=l.updateFullNode(h.getNode(),n,null);else if(l.filtersNodes()&&!h.isFiltered()){var u=h.getNode().updateChild(e,n);a=l.updateFullNode(h.getNode(),u,null)}else{var c=e.getFront();if(!h.isCompleteForPath(e)&&e.getLength()>1)return t;var p=e.popFront(),d=h.getNode().getImmediateChild(c).updateChild(p,n);a=\".priority\"===c?l.updatePriority(h.getNode(),d):l.updateChild(h.getNode(),c,d,p,Te,null)}var f=t.updateServerSnap(a,h.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),_=new be(r,f,i);return this.generateEventCacheAfterServerEvent_(f,e,r,_,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,h=t.getEventCache(),l=new be(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var u=e.getFront();if(\".priority\"===u)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,h.isFullyInitialized(),h.isFiltered());else{var c=e.popFront(),p=h.getNode().getImmediateChild(u),d=void 0;if(c.isEmpty())d=n;else{var f=l.getCompleteChild(u);d=null!=f?\".priority\"===c.getBack()&&f.getChild(c.parent()).isEmpty()?f:f.updateChild(c,n):Vt.EMPTY_NODE}if(p.equals(d))s=t;else{var _=this.filter_.updateChild(h.getNode(),u,d,c,l,o);s=t.updateEventSnap(_,h.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,h=e;return r.foreach((function(r,l){var u=n.child(r);t.cacheHasChild_(e,u.getFront())&&(h=a.applyUserOverwrite_(h,u,l,i,o,s))})),r.foreach((function(r,l){var u=n.child(r);t.cacheHasChild_(e,u.getFront())||(h=a.applyUserOverwrite_(h,u,l,i,o,s))})),h},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var h,l=t;h=e.isEmpty()?n:fe.Empty.setTree(e,n);var u=t.getServerCache().getNode();return h.children.inorderTraversal((function(e,n){if(u.hasChild(e)){var h=t.getServerCache().getNode().getImmediateChild(e),c=a.applyMerge_(h,n);l=a.applyServerOverwrite_(l,new H(e),c,r,i,o,s)}})),h.children.inorderTraversal((function(e,n){var h=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!u.hasChild(e)&&!h){var c=t.getServerCache().getNode().getImmediateChild(e),p=a.applyMerge_(c,n);l=a.applyServerOverwrite_(l,new H(e),p,r,i,o,s)}})),l},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var h=fe.Empty;return a.getNode().forEachChild(Et,(function(t,e){h=h.set(new H(t),e)})),this.applyServerMerge_(t,e,h,r,i,s,o)}return t}var l=fe.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(l=l.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,l,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Te,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new be(n,t,r),h=t.getEventCache().getNode(),l=void 0;if(e.isEmpty()||\".priority\"===e.getFront()){var u=void 0;if(t.getServerCache().isFullyInitialized())u=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var c=t.getServerCache().getNode();s.assert(c instanceof Vt,\"serverChildren would be complete if leaf node\"),u=n.calcCompleteEventChildren(c)}u=u,l=this.filter_.updateFullNode(h,u,i)}else{var p=e.getFront(),d=n.calcCompleteChild(p,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(p)&&(d=h.getImmediateChild(p)),(l=null!=d?this.filter_.updateChild(h,p,d,e.popFront(),a,i):t.getEventCache().getNode().hasChild(p)?this.filter_.updateChild(h,p,Vt.EMPTY_NODE,e.popFront(),a,i):h).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(H.Empty),t.updateEventSnap(l,o,this.filter_.filtersNodes())},t}(),Ne=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===Ce.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Ce.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,Ce.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,Ce.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,Ce.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,Ce.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,Ce.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return\"value\"===t.type||\"child_removed\"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw s.assertionError(\"Should only compare child_ events.\");var n=new gt(t.childName,t.snapshotNode),r=new gt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Pe=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Ee(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ie(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(Vt.EMPTY_NODE,o.getNode(),null),h=i.updateFullNode(Vt.EMPTY_NODE,s.getNode(),null),l=new ge(a,o.isFullyInitialized(),r.filtersNodes()),u=new ge(h,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new me(u,l),this.eventGenerator_=new Ne(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){s.assert(null==t,\"A cancel should cancel all event registrations.\");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===he.MERGE&&null!==t.source.queryId&&(s.assert(this.viewCache_.getCompleteServerSnap(),\"We should always have a full cache before handling merges\"),s.assert(this.viewCache_.getCompleteEventSnap(),\"Missing event cache, even though we have a server cache\"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),s.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),\"Once a server snap is complete, it should never go back\"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Dt,(function(t,e){n.push(Ce.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(Ce.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Re=function(){function t(){this.views=new Map}return Object.defineProperty(t,\"__referenceConstructor\",{get:function(){return s.assert(ce,\"Reference.ts has not been loaded\"),ce},set:function(t){s.assert(!ce,\"__referenceConstructor has already been defined\"),ce=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,a=t.source.queryId;if(null!==a){var h=this.views.get(a);return s.assert(null!=h,\"SyncTree gave us an op for an invalid query.\"),h.applyOperation(t,e,n)}var l=[];try{for(var u=o.__values(this.views.values()),c=u.next();!c.done;c=u.next()){h=c.value;l=l.concat(h.applyOperation(t,e,n))}}catch(p){r={error:p}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return l},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),h=!1;a?h=!0:r instanceof Vt?(a=n.calcCompleteEventChildren(r),h=!1):(a=Vt.EMPTY_NODE,h=!1);var l=new me(new ge(a,h,!1),new ge(r,i,!1));s=new Pe(t,l),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,s,a=e.queryIdentifier(),h=[],l=[],u=this.hasCompleteView();if(\"default\"===a)try{for(var c=o.__values(this.views.entries()),p=c.next();!p.done;p=c.next()){var d=o.__read(p.value,2),f=d[0],_=d[1];l=l.concat(_.removeEventRegistration(n,r)),_.isEmpty()&&(this.views.delete(f),_.getQuery().getQueryParams().loadsAllData()||h.push(_.getQuery()))}}catch(y){i={error:y}}finally{try{p&&!p.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}else(_=this.views.get(a))&&(l=l.concat(_.removeEventRegistration(n,r)),_.isEmpty()&&(this.views.delete(a),_.getQuery().getQueryParams().loadsAllData()||h.push(_.getQuery())));return u&&!this.hasCompleteView()&&h.push(new t.__referenceConstructor(e.repo,e.path)),{removed:h,events:l}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=o.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;s.getQuery().getQueryParams().loadsAllData()||n.push(s)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=o.__values(this.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r||a.getCompleteServerCache(t)}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=o.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),De=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new fe(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=H.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new fe(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return M(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,fe.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(H.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Dt,(function(e,n){t.push(new gt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new gt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new fe(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){\".priority\"===n?(s.assert(null!==o.value,\"Priority writes must always be leaf nodes\"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(\".priority\"),i)),r}(H.Empty,this.writeTree_,t)},t.Empty=new t(new fe(null)),t}();var xe=function(){function t(){this.visibleWrites_=De.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new ke(t,this)},t.prototype.addOverwrite=function(t,e,n,r){s.assert(n>this.lastWriteId_,\"Stacking an older write on top of newer ones\"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){s.assert(n>this.lastWriteId_,\"Stacking an older merge on top of newer ones\"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));s.assert(n>=0,\"removeWrite called with nonexistent writeId.\");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var h=this.allWrites_[a];h.visible&&(a>=n&&this.recordContainsPath_(h,r.path)?i=!1:r.path.contains(h.path)&&(o=!0)),a--}if(i){if(o)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):M(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(H.Empty)){var s=t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);l=n||Vt.EMPTY_NODE;return s.apply(l)}return null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var h=this.visibleWrites_.childCompoundWrite(e);if(h.isEmpty())return n;if(null!=n||h.hasCompleteWrite(H.Empty)){var l=n||Vt.EMPTY_NODE;return h.apply(l)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Vt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Dt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Dt,(function(t,e){var r=i.childCompoundWrite(new H(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){s.assert(n||r,\"Either existingEventSnap or existingServerSnap must exist\");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),h=a.getCompleteNode(H.Empty);if(null!=h)s=h;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],u=o.getCompare(),c=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),p=c.getNext();p&&l.length<r;)0!==u(p,n)&&l.push(p),p=c.getNext();return l},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,H.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=De.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,h=void 0;if(o.snap)n.contains(a)?(h=H.relativePath(n,a),r=r.addWrite(h,o.snap)):a.contains(n)&&(h=H.relativePath(a,n),r=r.addWrite(H.Empty,o.snap.getChild(h)));else{if(!o.children)throw s.assertionError(\"WriteRecord should have .snap or .children\");if(n.contains(a))h=H.relativePath(n,a),r=r.addWrites(h,o.children);else if(a.contains(n))if((h=H.relativePath(a,n)).isEmpty())r=r.addWrites(H.Empty,o.children);else{var l=s.safeGet(o.children,h.getFront());if(l){var u=l.getChild(h.popFront());r=r.addWrite(H.Empty,u)}}}}}return r},t}(),ke=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Oe=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=fe.Empty,this.pendingWriteTree_=new xe,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new ye(pe.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=fe.fromObject(e);return this.applyOperationToSyncPoints_(new ve(pe.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=fe.Empty;return null!=n.snap?r=r.set(H.Empty,!0):M(n.children,(function(t,e){r=r.set(new H(t),e)})),this.applyOperationToSyncPoints_(new de(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new ye(pe.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=fe.fromObject(e);return this.applyOperationToSyncPoints_(new ve(pe.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new _e(pe.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,h=H.relativePath(s,e),l=new ye(pe.forServerTaggedQuery(a),h,n);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,h=H.relativePath(s,e),l=fe.fromObject(n),u=new ve(pe.forServerTaggedQuery(a),h,l);return this.applyTaggedOperation_(s,u)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=H.relativePath(o,e),h=new _e(pe.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,h)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=H.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var a,h=this.syncPointTree_.get(r);(h?(o=o||h.hasCompleteView(),i=i||h.getCompleteServerCache(H.Empty)):(h=new Re,this.syncPointTree_=this.syncPointTree_.set(r,h)),null!=i)?a=!0:(a=!1,i=Vt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(H.Empty);n&&(i=i.updateImmediateChild(t,n))})));var l=h.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var u=t.makeQueryKey_(e);s.assert(!this.queryToTagMap.has(u),\"View does not exist, but we have a tag\");var c=t.getNextQueryTag_();this.queryToTagMap.set(u,c),this.tagToQueryMap.set(c,u)}var p=this.pendingWriteTree_.childWrites(r),d=h.addEventRegistration(e,n,p,i,a);if(!l&&!o){var f=h.viewForQuery(e);d=d.concat(this.setupListener_(e,f))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&(\"default\"===e.queryIdentifier()||s.viewExistsForQuery(e))){var h=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=h.removed;a=h.events;var u=-1!==l.findIndex((function(t){return t.getQueryParams().loadsAllData()})),c=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(u&&!c){var p=this.syncPointTree_.subtree(o);if(!p.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(p),f=0;f<d.length;++f){var _=d[f],y=_.getQuery(),v=this.createListenerForView_(_);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),v.hashFn,v.onComplete)}}if(!c&&l.length>0&&!r)if(u){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else l.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(l)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=H.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),M(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),h=this.syncPointTree_.subtree(r);if(i)s.assert(!h.value.hasCompleteView(),\"If we're adding a query, it shouldn't be shadowed\");else for(var l=h.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),M(n,(function(t,e){r=r.concat(e)})),r})),u=0;u<l.length;++u){var c=l[u];this.listenProvider_.stopListening(t.queryForListening_(c),this.tagForQuery_(c))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Vt.EMPTY_NODE).hash()},onComplete:function(t){if(\"ok\"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n=\"Unknown Error\";\"too_big\"===t?n=\"The data requested exceeds the maximum size that can be accessed with a single request.\":\"permission_denied\"===t?n=\"Client doesn't have permission to access the desired data.\":\"unavailable\"===t&&(n=\"The service is unavailable\");var r=new Error(t+\" at \"+e.path.toString()+\": \"+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+\"$\"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf(\"$\");return s.assert(-1!==e&&e<t.length-1,\"Bad queryKey.\"),{queryId:t.substr(e+1),path:new H(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);s.assert(n,\"Missing sync point for query tag that we're tracking\");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(H.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(H.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(H.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),h=e.children.get(s);if(h&&a){var l=n?n.getImmediateChild(s):null,u=r.child(s);o=o.concat(this.applyOperationHelper_(a,h,l,u))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(H.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(H.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,h=r.child(e),l=t.operationForChild(e);l&&(s=s.concat(i.applyOperationDescendantsHelper_(l,o,a,h)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),Fe=function(){function t(){this.rootNode_=Vt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ae=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),s.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return s.deepCopy(this.counters_)},t}(),Le=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Ae),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Me=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=o.__assign({},t);return this.last_&&M(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),We=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Me(t);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;M(e,(function(e,i){i>0&&s.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Qe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new qe(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),qe=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();E&&b(\"event: \"+e.toString()),U(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Ue=function(){function t(t){this.allowedEvents_=t,this.listeners_={},s.assert(Array.isArray(t)&&t.length>0,\"Requires a non-empty array\")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=o.__spread(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){s.assert(this.allowedEvents_.find((function(e){return e===t})),\"Unknown event: \"+t)},t}(),Ve=function(t){function e(){var e,n,r=t.call(this,[\"visible\"])||this;return\"undefined\"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n=\"visibilitychange\",e=\"hidden\"):void 0!==document.mozHidden?(n=\"mozvisibilitychange\",e=\"mozHidden\"):void 0!==document.msHidden?(n=\"msvisibilitychange\",e=\"msHidden\"):void 0!==document.webkitHidden&&(n=\"webkitvisibilitychange\",e=\"webkitHidden\")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger(\"visible\",t))}),!1),r}return o.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert(\"visible\"===t,\"Unknown event type: \"+t),[this.visible_]},e}(Ue),He=function(t){function e(){var e=t.call(this,[\"online\"])||this;return e.online_=!0,\"undefined\"==typeof window||void 0===window.addEventListener||s.isMobileCordova()||(window.addEventListener(\"online\",(function(){e.online_||(e.online_=!0,e.trigger(\"online\",!0))}),!1),window.addEventListener(\"offline\",(function(){e.online_&&(e.online_=!1,e.trigger(\"online\",!1))}),!1)),e}return o.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert(\"online\"===t,\"Unknown event type: \"+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ue),je=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&U((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),\"break\";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if(\"break\"===r())break}},t}(),Be=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(t),this.stats_=Le.getCollection(e),this.urlFn=function(t){return e.connectionURL(\"long_polling\",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new je(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_(\"Timed out trying to connect.\"),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(s.isNodeSdk()||\"complete\"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener(\"DOMContentLoaded\",n,!1),window.addEventListener(\"load\",n,!1)):document.attachEvent&&(document.attachEvent(\"onreadystatechange\",(function(){\"complete\"===document.readyState&&n()})),window.attachEvent(\"onload\",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ke((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=o.__read(t,5),i=r[0],s=r[1],a=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,\"start\"===i)n.id=s,n.password=a;else{if(\"close\"!==i)throw new Error(\"Unrecognized command received: \"+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=o.__read(t,2),i=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:\"t\"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v=\"5\",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),\"undefined\"!=typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(t.r=\"f\");var e=n.urlFn(t);n.log_(\"Connecting via long-poll to \"+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!s.isNodeSdk()&&(!!t.forceAllow_||!(t.forceDisallow_||\"undefined\"==typeof document||null==document.createElement||\"object\"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||\"object\"==typeof Windows&&\"object\"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_(\"Longpoll is closing itself\"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_(\"Longpoll is being closed.\"),this.shutdown_())},t.prototype.send=function(t){var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter(\"bytes_sent\",e.length);for(var n=s.base64Encode(e),r=L(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!s.isNodeSdk()){this.myDisconnFrame=document.createElement(\"iframe\");var n={dframe:\"t\"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display=\"none\",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=s.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter(\"bytes_received\",e)},t}(),Ke=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,s.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window[\"pLPCommand\"+this.uniqueCallbackIdentifier]=e,window[\"pRTLPCB\"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o=\"\";if(this.myIFrame.src&&\"javascript:\"===this.myIFrame.src.substr(0,\"javascript:\".length))o='<script>document.domain=\"'+document.domain+'\";<\\/script>';var a=\"<html><body>\"+o+\"</body></html>\";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(h){b(\"frame writing exception\"),h.stack&&b(h.stack),b(h)}}}return t.createIFrame_=function(){var t=document.createElement(\"iframe\");if(t.style.display=\"none\",!document.body)throw\"Document body has not initialized. Wait to initialize Firebase until after the document is ready.\";document.body.appendChild(t);try{t.contentWindow.document||b(\"No IE domain setting required\")}catch(n){var e=document.domain;t.src=\"javascript:void((function(){document.open();document.domain='\"+e+\"';document.close();})())\"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML=\"\",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n=\"\",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+\"&seg\"+r+\"=\"+i.seg+\"&ts\"+r+\"=\"+i.ts+\"&d\"+r+\"=\"+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;s.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement(\"script\");r.type=\"text/javascript\",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&\"loaded\"!==t&&\"complete\"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){b(\"Long-poll script failed to load: \"+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Ye=\"\";var ze=null;\"undefined\"!=typeof MozWebSocket?ze=MozWebSocket:\"undefined\"!=typeof WebSocket&&(ze=WebSocket);var Ge=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=Le.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:\"5\"};return!s.isNodeSdk()&&\"undefined\"!=typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(r.r=\"f\"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(\"websocket\",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_(\"Websocket connecting to \"+this.connURL),this.everConnected_=!1,_.set(\"previous_websocket_failure\",!0);try{if(s.isNodeSdk()){var i=this.nodeAdmin?\"AdminNode\":\"Node\",o={headers:{\"User-Agent\":\"Firebase/5/\"+Ye+\"/\"+r.platform+\"/\"+i,\"X-Firebase-GMPID\":this.applicationId||\"\"}},a={},h=0===this.connURL.indexOf(\"wss://\")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;h&&(o.proxy={origin:h}),this.mySock=new ze(this.connURL,[],o)}else{o={headers:{\"X-Firebase-GMPID\":this.applicationId||\"\"}};this.mySock=new ze(this.connURL,[],o)}}catch(u){this.log_(\"Error instantiating WebSocket.\");var l=u.message||u.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_(\"Websocket connected.\"),n.everConnected_=!0},this.mySock.onclose=function(){n.log_(\"Websocket connection was disconnected.\"),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_(\"WebSocket error.  Closing connection.\");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(\"undefined\"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ze&&!t.forceDisallow_},t.previouslyFailed=function(){return _.isInMemoryStorage||!0===_.get(\"previous_websocket_failure\")},t.prototype.markConnectionHealthy=function(){_.remove(\"previous_websocket_failure\")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join(\"\");this.frames=null;var n=s.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(s.assert(null===this.frames,\"We already have a frame buffer\"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter(\"bytes_received\",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter(\"bytes_sent\",e.length);var n=L(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_(\"WebSocket is closing itself\"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_(\"WebSocket is being closed\"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_(\"0\"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_(\"Exception thrown from WebSocket.send():\",e.message||e.data,\"Closing connection.\"),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Xe=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,\"ALL_TRANSPORTS\",{get:function(){return[Be,Ge]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Ge&&Ge.isAvailable(),s=i&&!Ge.previouslyFailed();if(e.webSocketOnly&&(i||P(\"wss:// URL used, but browser isn't known to support websockets.  Trying anyway.\"),s=!0),s)this.transports_=[Ge];else{var a=this.transports_=[];try{for(var h=o.__values(t.ALL_TRANSPORTS),l=h.next();!l.done;l=h.next()){var u=l.value;u&&u.isAvailable()&&a.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error(\"No transports available\")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),$e=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S(\"c:\"+this.id+\":\"),this.transportManager_=new Xe(e),this.log_(\"Connection created\"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=V((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_(\"Connection exceeded healthy timeout but has received \"+t.conn_.bytesReceived+\" bytes.  Marking connection healthy.\"),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_(\"Connection exceeded healthy timeout but has sent \"+t.conn_.bytesSent+\" bytes.  Leaving connection alive.\"):(t.log_(\"Closing unhealthy connection after timeout.\"),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return\"c:\"+this.id+\":\"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_(\"Secondary connection lost.\"),e.onSecondaryConnectionLost_()):e.log_(\"closing an old connection\")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_(\"message on old connection\"))}},t.prototype.sendRequest=function(t){var e={t:\"d\",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_(\"cleaning up and promoting a connection: \"+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if(\"t\"in t){var e=t.t;\"a\"===e?this.upgradeIfSecondaryHealthy_():\"r\"===e?(this.log_(\"Got a reset on secondary, closing it\"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):\"o\"===e&&(this.log_(\"got pong on secondary.\"),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=F(\"t\",t),n=F(\"d\",t);if(\"c\"===e)this.onSecondaryControl_(n);else{if(\"d\"!==e)throw new Error(\"Unknown protocol layer: \"+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_(\"Secondary connection is healthy.\"),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_(\"sending ping on secondary.\"),this.secondaryConn_.send({t:\"c\",d:{t:\"p\",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_(\"sending client ack on secondary\"),this.secondaryConn_.send({t:\"c\",d:{t:\"a\",d:{}}}),this.log_(\"Ending transmission on primary\"),this.conn_.send({t:\"c\",d:{t:\"n\",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=F(\"t\",t),n=F(\"d\",t);\"c\"===e?this.onControl_(n):\"d\"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=F(\"t\",t);if(\"d\"in t){var n=t.d;if(\"h\"===e)this.onHandshake_(n);else if(\"n\"===e){this.log_(\"recvd end transmission on primary\"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else\"s\"===e?this.onConnectionShutdown_(n):\"r\"===e?this.onReset_(n):\"e\"===e?I(\"Server Error: \"+n):\"o\"===e?(this.log_(\"got pong on primary.\"),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I(\"Unknown control packet command: \"+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),\"5\"!==n&&P(\"Protocol version mismatch detected\"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V((function(){e.secondaryConn_&&(e.log_(\"Timed out trying to upgrade.\"),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_(\"Reset packet received.  New host: \"+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_(\"Realtime connection established.\"),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0):V((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_(\"sending ping on primary.\"),this.sendData_({t:\"c\",d:{t:\"p\",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_(\"Realtime connection lost.\"):(this.log_(\"Realtime connection failed.\"),this.repoInfo_.isCacheableHost()&&(_.remove(\"host:\"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_(\"Connection shutdown command received. Shutting down...\"),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw\"Connection is not connected\";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_(\"Closing realtime connection.\"),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_(\"Shutting down all connections\"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Je=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Ze=function(t){function e(n,r,i,o,a,h,l){var u=t.call(this)||this;if(u.repoInfo_=n,u.applicationId_=r,u.onDataUpdate_=i,u.onConnectStatus_=o,u.onServerInfoUpdate_=a,u.authTokenProvider_=h,u.authOverride_=l,u.id=e.nextPersistentConnectionId_++,u.log_=S(\"p:\"+u.id+\":\"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=1e3,u.maxReconnectDelay_=3e5,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,l&&!s.isNodeSdk())throw new Error(\"Auth override specified in options, but not supported on non Node.js platforms\");return u.scheduleConnect_(0),Ve.getInstance().on(\"visible\",u.onVisible_,u),-1===n.host.indexOf(\"fblocal\")&&He.getInstance().on(\"online\",u.onOnline_,u),u}return o.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(s.stringify(i)),s.assert(this.connected_,\"sendRequest call when we're not connected not allowed.\"),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_(\"Listen called for \"+o+\" \"+i),this.listens.has(o)||this.listens.set(o,new Map),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),\"listen() called for non-default but complete query\"),s.assert(!this.listens.get(o).has(i),\"listen() called twice for same path/queryId.\");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_(\"Listen on \"+i+\" for \"+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest(\"q\",s,(function(s){var a=s.d,h=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_(\"listen response\",s),\"ok\"!==h&&n.removeListen_(i,o),t.onComplete&&t.onComplete(h,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&\"object\"==typeof t&&s.contains(t,\"w\")){var n=s.safeGet(t,\"w\");if(Array.isArray(n)&&~n.indexOf(\"no_index\")){var r='\".indexOn\": \"'+e.getQueryParams().getIndex().toString()+'\"',i=e.path.toString();P(\"Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding \"+r+\" at \"+i+\" to your security rules for better performance.\")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_(\"Auth token refreshed\"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest(\"unauth\",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||s.isAdmin(t))&&(this.log_(\"Admin auth credential detected.  Reducing max reconnect time.\"),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=s.isValidFormat(e)?\"auth\":\"gauth\",r={cred:e};null===this.authOverride_?r.noauth=!0:\"object\"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||\"error\";t.authToken_===e&&(\"ok\"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_(\"Unlisten called for \"+n+\" \"+r),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),\"unlisten() called for non-default but complete query\"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_(\"Unlisten on \"+t+\" for \"+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest(\"n\",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_(\"o\",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:\"o\",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_(\"om\",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:\"om\",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_(\"oc\",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:\"oc\",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_(\"onDisconnect \"+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal(\"p\",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal(\"m\",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_(\"Buffering put: \"+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+\" response\",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_(\"reportStats\",n),this.sendRequest(\"s\",n,(function(t){if(\"ok\"!==t.s){var n=t.d;e.log_(\"reportStats\",\"Error sending stats: \"+n)}}))}},e.prototype.onDataMessage_=function(t){if(\"r\"in t){this.log_(\"from server: \"+s.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if(\"error\"in t)throw\"A server-side error has occurred: \"+t.error;\"a\"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_(\"handleServerMessage\",t,e),\"d\"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):\"m\"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):\"c\"===t?this.onListenRevoked_(e.p,e.q):\"ac\"===t?this.onAuthRevoked_(e.s,e.d):\"sd\"===t?this.onSecurityDebugPacket_(e):I(\"Unrecognized action received from server: \"+s.stringify(t)+\"\\nAre you using the latest client?\")},e.prototype.onReady_=function(t,e){this.log_(\"connection ready\"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;s.assert(!this.realtime_,\"Scheduling a connect when we're already connected/ing?\"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_(\"Window became visible.  Reducing delay.\"),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_(\"Browser went online.\"),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_(\"Browser went offline.  Killing connection.\"),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_(\"data client disconnected\"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_(\"Window isn't visible.  Delaying reconnect.\"),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_(\"Trying to reconnect in \"+e+\"ms\"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_(\"Making a connection attempt\"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+\":\"+e.nextConnectionId_++,a=this,h=this.lastSessionId,l=!1,u=null,c=function(){u?u.close():(l=!0,i())};this.realtime_={close:c,sendRequest:function(t){s.assert(u,\"sendRequest call when we're not connected not allowed.\"),u.sendRequest(t)}};var p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(p).then((function(t){l?b(\"getToken() completed but was canceled\"):(b(\"getToken() completed. Creating connection.\"),a.authToken_=t&&t.accessToken,u=new $e(o,a.repoInfo_,a.applicationId_,n,r,i,(function(t){P(t+\" (\"+a.repoInfo_.toString()+\")\"),a.interrupt(\"server_kill\")}),h))})).then(null,(function(e){a.log_(\"Failed to get token: \"+e),l||(t.repoInfo_.nodeAdmin&&P(e),c())}))}},e.prototype.interrupt=function(t){b(\"Interrupting connection for reason: \"+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){b(\"Resuming connection for reason: \"+t),delete this.interruptReasons_[t],s.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&\"h\"in e.request&&e.queued&&(e.onComplete&&e.onComplete(\"disconnect\"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return A(t)})).join(\"$\"):\"default\";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete(\"permission_denied\")},e.prototype.removeListen_=function(t,e){var n,r=new H(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){b(\"Auth token revoked: \"+t+\"/\"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),\"invalid_token\"!==t&&\"permission_denied\"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):\"msg\"in t&&console.log(\"FIREBASE: \"+t.msg.replace(\"\\n\",\"\\nFIREBASE: \"))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=o.__values(this.listens.values()),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var h=(n=void 0,o.__values(a.values())),l=h.next();!l.done;l=h.next()){var u=l.value;this.sendListen_(u)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var p=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(p.action,p.pathString,p.data,p.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e=\"js\";s.isNodeSdk()&&(e=this.repoInfo_.nodeAdmin?\"admin_node\":\"node\"),t[\"sdk.\"+e+\".\"+Ye.replace(/\\./g,\"-\")]=1,s.isMobileCordova()?t[\"framework.cordova\"]=1:s.isReactNative()&&(t[\"framework.reactnative\"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=He.getInstance().currentlyOnline();return s.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Je),tn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=S(\"p:rest:\"),i.listens_={},i}return o.__extends(e,t),e.prototype.reportStats=function(t){throw new Error(\"Method not implemented.\")},e.getListenId_=function(t,e){return void 0!==e?\"tag$\"+e:(s.assert(t.getQueryParams().isDefault(),\"should have a tag if it's not a default query.\"),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_(\"Listen called for \"+a+\" \"+t.queryIdentifier());var h=e.getListenId_(t,r),l={};this.listens_[h]=l;var u=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+\".json\",u,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),s.safeGet(o.listens_,h)===l)&&i(t?401===t?\"permission_denied\":\"rest_error:\"+t:\"ok\",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format=\"export\",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?\"https://\":\"http://\")+r.repoInfo_.host+t+\"?ns=\"+r.repoInfo_.namespace+s.querystring(e);r.log_(\"Sending REST request for \"+a);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_(\"REST Response for \"+a+\" received. status:\",h.status,\"response:\",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=s.jsonEval(h.responseText)}catch(e){P(\"Failed to parse JSON response for \"+a+\": \"+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&P(\"Got unsuccessful REST response for \"+a+\" Status: \"+h.status),n(h.status);n=null}},h.open(\"GET\",a,!0),h.send()}))},e}(Je),en=function(){function t(t,e,n,r){var i=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Qe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new le,this.persistentConnection_=null,this.stats_=Le.getCollection(t),e||(\"object\"==typeof window&&window.navigator&&window.navigator.userAgent||\"\").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new tn(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if(\"object\"!=typeof o)throw new Error(\"Only objects are supported for option databaseAuthVariableOverride\");try{s.stringify(o)}catch(a){throw new Error(\"Invalid authOverride provided: \"+a)}}this.persistentConnection_=new Ze(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=Le.getOrCreateReporter(t,(function(){return new We(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Fe,this.infoSyncTree_=new Oe({startListening:function(t,e,n,r){var o=[],s=i.infoData_.getNode(t.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){r(\"ok\")}),0)),o},stopListening:function(){}}),this.updateInfo_(\"connected\",!1),this.serverSyncTree_=new Oe({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?\"https://\":\"http://\")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new H(\".info/serverTimeOffset\")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new H(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=s.map(e,(function(t){return jt(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var h=jt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,h,r)}else if(n){var l=s.map(e,(function(t){return jt(t)}));o=this.serverSyncTree_.applyServerMerge(i,l)}else{var u=jt(e);o=this.serverSyncTree_.applyServerOverwrite(i,u)}var c=i;o.length>0&&(c=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(c,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_(\"connected\",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;M(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new H(\"/.info/\"+t),r=jt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_(\"set\",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=jt(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),h=se(s,a,o),l=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserOverwrite(t,h,l,!0);this.eventQueue_.queueEvents(u),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o=\"ok\"===e;o||P(\"set at \"+t+\" failed: \"+e);var s=i.serverSyncTree_.ackUserWrite(l,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var c=this.abortTransactions_(t);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},t.prototype.update=function(t,e,n){var r=this;this.log_(\"update\",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(M(e,(function(e,n){i=!1,s[e]=oe(t.child(e),jt(n),r.serverSyncTree_,o)})),i)b(\"update() called with empty data.  Don't do anything.\"),this.callOnCompleteCallback(n,\"ok\");else{var a=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(h),this.server_.merge(t.toString(),e,(function(e,i){var o=\"ok\"===e;o||P(\"update at \"+t+\" failed: \"+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),h=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(h,s),r.callOnCompleteCallback(n,e,i)})),M(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_(\"onDisconnectEvents\");var e=this.generateServerValues(),n=new le;this.onDisconnect_.forEachTree(H.Empty,(function(r,i){var o=oe(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(H.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new le,this.eventQueue_.raiseEventsForChangedPath(H.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){\"ok\"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=jt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){\"ok\"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=jt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){\"ok\"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(s.isEmpty(e))return b(\"onDisconnect().update() called with empty data.  Don't do anything.\"),void this.callOnCompleteCallback(n,\"ok\");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){\"ok\"===i&&M(e,(function(e,n){var i=jt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=\".info\"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=\".info\"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(\"repo_interrupt\")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(\"repo_interrupt\")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),\"undefined\"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Me(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);M(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=\" \";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"\";this.persistentConnection_&&(n=this.persistentConnection_.id+\":\"),b.apply(void 0,o.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&U((function(){if(\"ok\"===e)t(null);else{var r=(e||\"error\").toUpperCase(),i=r;n&&(i+=\": \"+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,\"database\",{get:function(){return this.__database||(this.__database=new fn(this))},enumerable:!1,configurable:!0}),t}(),nn=function(){function t(e){this.indexedFilter_=new Ee(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new gt(e,n))||(n=Vt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Vt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Vt.EMPTY_NODE);var i=this;return e.forEachChild(Dt,(function(t,e){i.matches(new gt(t,e))||(r=r.updateImmediateChild(t,Vt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),rn=function(){function t(t){this.rangedFilter_=new nn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new gt(e,n))||(n=Vt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Vt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Vt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Vt.EMPTY_NODE);var a=void 0,h=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();var u=this.index_.getCompare();l=function(t,e){return u(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var c=!1;i.hasNext();){s=i.getNext();!c&&l(a,s)<=0&&(c=!0),c&&o<this.limit_&&l(s,h)<=0?o++:r=r.updateImmediateChild(s.name,Vt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var h=t;s.assert(h.numChildren()===this.limit_,\"\");var l=new gt(e,n),u=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(h.hasChild(e)){for(var p=h.getImmediateChild(e),d=r.getChildAfterChild(this.index_,u,this.reverse_);null!=d&&(d.name===e||h.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var f=null==d?1:o(d,l);if(c&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(Ce.childChangedChange(e,n,p)),h.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Ce.childRemovedChange(e,p));var _=h.updateImmediateChild(e,Vt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(Ce.childAddedChange(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}return n.isEmpty()?t:c&&o(u,l)>=0?(null!=i&&(i.trackChildChange(Ce.childRemovedChange(u.name,u.node)),i.trackChildChange(Ce.childAddedChange(e,n))),h.updateImmediateChild(e,n).updateImmediateChild(u.name,Vt.EMPTY_NODE)):t},t}(),on=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_=\"\",this.indexStartValue_=null,this.indexStartName_=\"\",this.indexEndValue_=null,this.indexEndName_=\"\",this.index_=Dt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return\"\"===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return s.assert(this.startSet_,\"Only valid if start has been set\"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return s.assert(this.startSet_,\"Only valid if start has been set\"),this.startNameSet_?this.indexStartName_:D},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return s.assert(this.endSet_,\"Only valid if end has been set\"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return s.assert(this.endSet_,\"Only valid if end has been set\"),this.endNameSet_?this.indexEndName_:x},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&\"\"!==this.viewFrom_},t.prototype.getLimit=function(){return s.assert(this.limitSet_,\"Only valid if limit has been set\"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=\"\",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=\"\"),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=\"\"),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;\"\"===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Dt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Dt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Ee(this.getIndex()):this.hasLimit()?new rn(this):new nn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Dt?e=n.PRIORITY_INDEX:this.index_===Kt?e=n.VALUE_INDEX:this.index_===Et?e=n.KEY_INDEX:(s.assert(this.index_ instanceof Yt,\"Unrecognized index type!\"),e=this.index_.toString()),r[n.ORDER_BY]=s.stringify(e),this.startSet_&&(r[n.START_AT]=s.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=\",\"+s.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=s.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=\",\"+s.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:\"sp\",INDEX_START_NAME:\"sn\",INDEX_END_VALUE:\"ep\",INDEX_END_NAME:\"en\",LIMIT:\"l\",VIEW_FROM:\"vf\",VIEW_FROM_LEFT:\"l\",VIEW_FROM_RIGHT:\"r\",INDEX:\"i\"},t.REST_QUERY_CONSTANTS_={ORDER_BY:\"orderBy\",PRIORITY_INDEX:\"$priority\",VALUE_INDEX:\"$value\",KEY_INDEX:\"$key\",START_AT:\"startAt\",END_AT:\"endAt\",LIMIT_TO_FIRST:\"limitToFirst\",LIMIT_TO_LAST:\"limitToLast\"},t.DEFAULT=new t,t}(),sn=function(t){function e(e,n){if(!(e instanceof en))throw new Error(\"new Reference() no longer supported - use app.database().\");return t.call(this,e,n,on.DEFAULT,!1)||this}return o.__extends(e,t),e.prototype.getKey=function(){return s.validateArgCount(\"Reference.key\",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return s.validateArgCount(\"Reference.child\",1,1,arguments.length),\"number\"==typeof t?t=String(t):t instanceof H||(null===this.path.getFront()?ct(\"Reference.child\",1,t,!1):ut(\"Reference.child\",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){s.validateArgCount(\"Reference.parent\",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){s.validateArgCount(\"Reference.root\",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){s.validateArgCount(\"Reference.set\",1,2,arguments.length),pt(\"Reference.set\",this.path),it(\"Reference.set\",1,t,this.path,!1),s.validateCallback(\"Reference.set\",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(s.validateArgCount(\"Reference.update\",1,2,arguments.length),pt(\"Reference.update\",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[\"\"+r]=t[r];t=n,P(\"Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}st(\"Reference.update\",1,t,this.path,!1),s.validateCallback(\"Reference.update\",2,e,!0);var i=new s.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(s.validateArgCount(\"Reference.setWithPriority\",2,3,arguments.length),pt(\"Reference.setWithPriority\",this.path),it(\"Reference.setWithPriority\",1,t,this.path,!1),at(\"Reference.setWithPriority\",2,e,!1),s.validateCallback(\"Reference.setWithPriority\",3,n,!0),\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Reference.setWithPriority failed: \"+this.getKey()+\" is a read-only object.\";var r=new s.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return s.validateArgCount(\"Reference.remove\",0,1,arguments.length),pt(\"Reference.remove\",this.path),s.validateCallback(\"Reference.remove\",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(s.validateArgCount(\"Reference.transaction\",1,3,arguments.length),pt(\"Reference.transaction\",this.path),s.validateCallback(\"Reference.transaction\",1,t,!1),s.validateCallback(\"Reference.transaction\",2,e,!0),ft(\"Reference.transaction\",3,n,!0),\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Reference.transaction failed: \"+this.getKey()+\" is a read-only object.\";void 0===n&&(n=!0);var r=new s.Deferred;\"function\"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new yt(n,i)),\"function\"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){s.validateArgCount(\"Reference.setPriority\",1,2,arguments.length),pt(\"Reference.setPriority\",this.path),at(\"Reference.setPriority\",1,t,!1),s.validateCallback(\"Reference.setPriority\",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path.child(\".priority\"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){s.validateArgCount(\"Reference.push\",0,2,arguments.length),pt(\"Reference.push\",this.path),it(\"Reference.push\",1,t,this.path,!0),s.validateCallback(\"Reference.push\",2,e,!0);var n,r=this.repo.serverTime(),i=vt(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),\"function\"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return pt(\"Reference.onDisconnect\",this.path),new _t(this.repo,this.path)},Object.defineProperty(e.prototype,\"database\",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"key\",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"parent\",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"root\",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Zt);Zt.__referenceConstructor=sn,Re.__referenceConstructor=sn;var an,hn=function(){this.children={},this.childCount=0,this.value=null},ln=function(){function t(t,e,n){void 0===t&&(t=\"\"),void 0===e&&(e=null),void 0===n&&(n=new hn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof H?e:new H(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,s.safeGet(r.node_.children,i)||new hn),i=(n=n.popFront()).getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){s.assert(void 0!==t,\"Cannot set value to undefined\"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;M(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new H(null===this.parent_?this.name_:this.parent_.path()+\"/\"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=s.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]=\"RUN\",t[t.SENT=1]=\"SENT\",t[t.COMPLETED=2]=\"COMPLETED\",t[t.SENT_NEEDS_ABORT=3]=\"SENT_NEEDS_ABORT\",t[t.NEEDS_ABORT=4]=\"NEEDS_ABORT\"}(an||(an={})),en.MAX_TRANSACTION_RETRIES_=25,en.prototype.transactionsInit_=function(){this.transactionQueueTree_=new ln},en.prototype.startTransaction=function(t,e,n,r){this.log_(\"transaction on \"+t);var i=function(){},o=new sn(this,t);o.on(\"value\",i);var a={path:t,update:e,onComplete:n,status:null,order:g(),applyLocally:r,retryCount:0,unwatcher:function(){o.off(\"value\",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=this.getLatestState_(t);a.currentInputSnapshot=h;var l=a.update(h.val());if(void 0===l){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var u=new zt(a.currentInputSnapshot,new sn(this,a.path),Dt);a.onComplete(null,!1,u)}}else{ot(\"transaction failed: Data returned \",l,a.path),a.status=an.RUN;var c=this.transactionQueueTree_.subTree(t),p=c.getValue()||[];p.push(a),c.setValue(p);var d=void 0;if(\"object\"==typeof l&&null!==l&&s.contains(l,\".priority\"))d=s.safeGet(l,\".priority\"),s.assert(rt(d),\"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.\");else d=(this.serverSyncTree_.calcCompleteEventCache(t)||Vt.EMPTY_NODE).getPriority().val();d=d;var f=this.generateServerValues(),_=jt(l,d),y=se(_,h,f);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(t,y,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,v),this.sendReadyTransactions_()}},en.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Vt.EMPTY_NODE},en.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);s.assert(n.length>0,\"Sending zero length transaction queue\"),n.every((function(t){return t.status===an.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},en.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,a=i.hash(),h=0;h<e.length;h++){var l=e[h];s.assert(l.status===an.RUN,\"tryToSendTransactionQueue_: items in queue should all be run.\"),l.status=an.SENT,l.retryCount++;var u=H.relativePath(t,l.path);o=o.updateChild(u,l.currentOutputSnapshotRaw)}var c=o.val(!0),p=t;this.server_.put(p.toString(),c,(function(r){n.log_(\"transaction put response\",{path:p.toString(),status:r});var i=[];if(\"ok\"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=an.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,h=new sn(n,e[s].path),l=new zt(a,h,Dt);o.push(e[s].onComplete.bind(null,null,!0,l))}e[s].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(s=0;s<o.length;s++)U(o[s])}else{if(\"datastale\"===r)for(s=0;s<e.length;s++)e[s].status===an.SENT_NEEDS_ABORT?e[s].status=an.NEEDS_ABORT:e[s].status=an.RUN;else{P(\"transaction at \"+p.toString()+\" failed: \"+r);for(s=0;s<e.length;s++)e[s].status=an.NEEDS_ABORT,e[s].abortReason=r}n.rerunTransactions_(t)}}),a)},en.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},en.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],o=t.filter((function(t){return t.status===an.RUN})).map((function(t){return t.currentWriteId})),a=0;a<t.length;a++){var h=t[a],l=H.relativePath(e,h.path),u=!1,c=void 0;if(s.assert(null!==l,\"rerunTransactionsUnderNode_: relativePath should not be null.\"),h.status===an.NEEDS_ABORT)u=!0,c=h.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0));else if(h.status===an.RUN)if(h.retryCount>=en.MAX_TRANSACTION_RETRIES_)u=!0,c=\"maxretry\",i=i.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0));else{var p=this.getLatestState_(h.path,o);h.currentInputSnapshot=p;var d=t[a].update(p.val());if(void 0!==d){ot(\"transaction failed: Data returned \",d,h.path);var f=jt(d);\"object\"==typeof d&&null!=d&&s.contains(d,\".priority\")||(f=f.updatePriority(p.getPriority()));var _=h.currentWriteId,y=this.generateServerValues(),v=se(f,p,y);h.currentOutputSnapshotRaw=f,h.currentOutputSnapshotResolved=v,h.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(_),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(h.path,v,h.currentWriteId,h.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(_,!0))}else u=!0,c=\"nodata\",i=i.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],u&&(t[a].status=an.COMPLETED,n=t[a].unwatcher,setTimeout(n,Math.floor(0)),t[a].onComplete))if(\"nodata\"===c){var g=new sn(this,t[a].path),m=t[a].currentInputSnapshot,C=new zt(m,g,Dt);r.push(t[a].onComplete.bind(null,null,!1,C))}else r.push(t[a].onComplete.bind(null,new Error(c),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(a=0;a<r.length;a++)U(r[a]);this.sendReadyTransactions_()}},en.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},en.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},en.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},en.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==an.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},en.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},en.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===an.SENT_NEEDS_ABORT);else if(e[o].status===an.SENT)s.assert(i===o-1,\"All SENT items should be at beginning of queue.\"),i=o,e[o].status=an.SENT_NEEDS_ABORT,e[o].abortReason=\"set\";else if(s.assert(e[o].status===an.RUN,\"Unexpected transaction status in abort\"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error(\"set\"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(o=0;o<n.length;o++)U(n[o])}};var un,cn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&\"auth/token-not-initialized\"===t.code?(b(\"Got auth/token-not-initialized error.  Treating as null token.\"),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named \"'+this.app_.name+'\" are invalid. This usually indicates your app was not initialized correctly. ';\"credential\"in this.app_.options?t+='Make sure the \"credential\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':\"serviceAccount\"in this.app_.options?t+='Make sure the \"serviceAccount\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':t+='Make sure the \"apiKey\" and \"databaseURL\" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',P(t)},t}(),pn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN=\"owner\",t}(),dn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return un||(un=new t),un},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=o.__values(Object.keys(this.repos_)),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var h=(n=void 0,o.__values(Object.keys(this.repos_[a]))),l=h.next();!l.done;l=h.next()){var u=l.value;this.repos_[a][u].interrupt()}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=o.__values(Object.keys(this.repos_)),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var h=(n=void 0,o.__values(Object.keys(this.repos_[a]))),l=h.next();!l.done;l=h.next()){var u=l.value;this.repos_[a][u].resume()}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n,i){var o=n||t.options.databaseURL;void 0===o&&(t.options.projectId||N(\"Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp().\"),b(\"Using default host for project \",t.options.projectId),o=t.options.projectId+\"-default-rtdb.firebaseio.com\");var s,a=$(o,i),h=a.repoInfo,l=void 0;void 0!==r&&(l={}.FIREBASE_DATABASE_EMULATOR_HOST),l?(s=!0,o=\"http://\"+l+\"?ns=\"+h.namespace,h=(a=$(o,i)).repoInfo):s=!a.repoInfo.secure;var u=i&&s?new pn:new cn(t,e);return dt(\"Invalid Firebase Database URL\",1,a),a.path.isEmpty()||N(\"Database URL must point to the root of a Firebase Database (not including a child path).\"),this.createRepo(h,t,u).database},t.prototype.deleteRepo=function(t){var e=s.safeGet(this.repos_,t.app.name);e&&s.safeGet(e,t.repoInfo_.toURLString())===t||N(\"Database \"+t.app.name+\"(\"+t.repoInfo_+\") has already been deleted.\"),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=s.safeGet(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=s.safeGet(r,t.toURLString());return i&&N(\"Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.\"),i=new en(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),fn=function(){function t(t){this.repo_=t,t instanceof en||N(\"Don't call new Database() directly - please use firebase.database().\"),this.root_=new sn(t,H.Empty),this.INTERNAL=new _n(this)}return Object.defineProperty(t.prototype,\"app\",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_(\"ref\"),s.validateArgCount(\"database.ref\",0,1,arguments.length),t instanceof sn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e=\"database.refFromURL\";this.checkDeleted_(e),s.validateArgCount(e,1,1,arguments.length);var n=$(t,this.repo_.repoInfo_.nodeAdmin);dt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&N(e+\": Host name does not match the current database: (found \"+r.host+\" but expected \"+this.repo_.repoInfo_.host+\")\"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&N(\"Cannot call \"+t+\" on a deleted database.\")},t.prototype.goOffline=function(){s.validateArgCount(\"database.goOffline\",0,0,arguments.length),this.checkDeleted_(\"goOffline\"),this.repo_.interrupt()},t.prototype.goOnline=function(){s.validateArgCount(\"database.goOnline\",0,0,arguments.length),this.checkDeleted_(\"goOnline\"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{\".sv\":\"timestamp\"},increment:function(t){return{\".sv\":{increment:t}}}},t}(),_n=function(){function t(t){this.database=t}return t.prototype.delete=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.database.checkDeleted_(\"delete\"),dn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),yn=Object.freeze({__proto__:null,forceLongPolling:function(){Ge.forceDisallow(),Be.forceAllow()},forceWebSockets:function(){Be.forceDisallow()},isWebSocketsAvailable:function(){return Ge.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),vn=Ze;Ze.prototype.simpleListen=function(t,e){this.sendRequest(\"q\",{p:t},e)},Ze.prototype.echo=function(t,e){this.sendRequest(\"echo\",{d:t},e)};var gn=$e,mn=B,Cn=Object.freeze({__proto__:null,DataConnection:vn,RealTimeConnection:gn,hijackHash:function(t){var e=Ze.prototype.put;return Ze.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Ze.prototype.put=e}},ConnectionTarget:mn,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){dn.getInstance().forceRestClient(t)}}),En=fn.ServerValue;function wn(e){!function(t){Ye=t}(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new h.Component(\"database\",(function(t,e){var n=t.getProvider(\"app\").getImmediate(),r=t.getProvider(\"auth-internal\");return dn.getInstance().databaseFromApp(n,r,e)}),\"PUBLIC\").setServiceProps({Reference:sn,Query:Zt,Database:fn,DataSnapshot:zt,enableLogging:T,INTERNAL:yn,ServerValue:En,TEST_ACCESS:Cn}).setMultipleInstances(!0));e.registerVersion(\"@firebase/database\",\"0.6.13\"),s.isNodeSdk()&&(t.exports=n)}wn(c.default),e.DataSnapshot=zt,e.Database=fn,e.OnDisconnect=_t,e.Query=Zt,e.Reference=sn,e.ServerValue=En,e.enableLogging=T,e.registerDatabase=wn}).call(this,n(\"8oxB\"))}}]);","extractedComments":["/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */"]}